var xr=Object.defineProperty;var _r=(r,e,t)=>e in r?xr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var z=(r,e,t)=>_r(r,typeof e!="symbol"?e+"":e,t);import{b as U,S as ie,g as Sr}from"./index-Cmg072g4.js";const P=r=>typeof r=="string",vt=()=>{let r,e;const t=new Promise((n,s)=>{r=n,e=s});return t.resolve=r,t.reject=e,t},fs=r=>r==null?"":""+r,kr=(r,e,t)=>{r.forEach(n=>{e[n]&&(t[n]=e[n])})},Cr=/###/g,ps=r=>r&&r.indexOf("###")>-1?r.replace(Cr,"."):r,gs=r=>!r||P(r),Rt=(r,e,t)=>{const n=P(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(gs(r))return{};const i=ps(n[s]);!r[i]&&t&&(r[i]=new t),Object.prototype.hasOwnProperty.call(r,i)?r=r[i]:r={},++s}return gs(r)?{}:{obj:r,k:ps(n[s])}},ms=(r,e,t)=>{const{obj:n,k:s}=Rt(r,e,Object);if(n!==void 0||e.length===1){n[s]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Rt(r,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Rt(r,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=t},Or=(r,e,t,n)=>{const{obj:s,k:i}=Rt(r,e,Object);s[i]=s[i]||[],s[i].push(t)},sn=(r,e)=>{const{obj:t,k:n}=Rt(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},Er=(r,e,t)=>{const n=sn(r,t);return n!==void 0?n:sn(e,t)},er=(r,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in r?P(r[n])||r[n]instanceof String||P(e[n])||e[n]instanceof String?t&&(r[n]=e[n]):er(r[n],e[n],t):r[n]=e[n]);return r},Ge=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Rr=r=>P(r)?r.replace(/[&<>"'\/]/g,e=>Ar[e]):r;class Ir{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Tr=[" ",",","?","!",";"],Pr=new Ir(20),Lr=(r,e,t)=>{e=e||"",t=t||"";const n=Tr.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const s=Pr.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(r);if(!i){const a=r.indexOf(t);a>0&&!s.test(r.substring(0,a))&&(i=!0)}return i},Wn=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const n=e.split(t);let s=r;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,o="";for(let c=i;c<n.length;++c)if(c!==i&&(o+=t),o+=n[c],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;i+=c-i+1;break}s=a}return s},rn=r=>r==null?void 0:r.replace("_","-"),jr={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){var t,n;(n=(t=console==null?void 0:console[r])==null?void 0:t.apply)==null||n.call(t,console,e)}};class an{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||jr,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,s){return s&&!this.debug?null:(P(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new an(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new an(this.logger,e)}}var ge=new an;class xn{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(t)||0;this.observers[n].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,c]=a;for(let u=0;u<c;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,c]=a;for(let u=0;u<c;u++)o.apply(o,[e,...n])})}}class vs extends xn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){var u,h;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):P(n)&&i?o.push(...n.split(i)):o.push(n)));const c=sn(this.data,o);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),c||!a||!P(n)?c:Wn((h=(u=this.data)==null?void 0:u[e])==null?void 0:h[t],n,i)}addResource(e,t,n,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),s=t,t=o[1]),this.addNamespaces(t),ms(this.data,o,s),i.silent||this.emit("added",e,t,n,s)}addResources(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(P(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});s.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),s=n,n=t,t=o[1]),this.addNamespaces(t);let c=sn(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?er(c,n,i):c={...c,...n},ms(this.data,o,c),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var tr={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,n,s){return r.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,t,n,s))??e}),e}};const bs={},ys=r=>!P(r)&&typeof r!="boolean"&&typeof r!="number";class on extends xn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),kr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ge.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return(n==null?void 0:n.res)!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Lr(e,n,s);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:P(i)?[i]:i};const u=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:P(i)?[i]:i}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),c=o[o.length-1],u=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(h){const X=t.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${X}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${X}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:a}const v=this.resolve(e,t);let b=v==null?void 0:v.res;const S=(v==null?void 0:v.usedKey)||a,l=(v==null?void 0:v.exactUsedKey)||a,d=["[object Number]","[object Function]","[object RegExp]"],p=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,C=t.count!==void 0&&!P(t.count),O=on.hasDefaultValue(t),D=C?this.pluralResolver.getSuffix(u,t.count,t):"",Ee=t.ordinal&&C?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",Ae=C&&!t.ordinal&&t.count===0,Z=Ae&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${D}`]||t[`defaultValue${Ee}`]||t.defaultValue;let Q=b;g&&!b&&O&&(Q=Z);const Ye=ys(Q),Je=Object.prototype.toString.apply(Q);if(g&&Q&&Ye&&d.indexOf(Je)<0&&!(P(p)&&Array.isArray(Q))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,Q,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(v.res=X,v.usedParams=this.getUsedParamsDetails(t),v):X}if(i){const X=Array.isArray(Q),ae=X?[]:{},ls=X?l:S;for(const he in Q)if(Object.prototype.hasOwnProperty.call(Q,he)){const we=`${ls}${i}${he}`;O&&!b?ae[he]=this.translate(we,{...t,defaultValue:ys(Z)?Z[he]:void 0,joinArrays:!1,ns:o}):ae[he]=this.translate(we,{...t,joinArrays:!1,ns:o}),ae[he]===we&&(ae[he]=Q[he])}b=ae}}else if(g&&P(p)&&Array.isArray(b))b=b.join(p),b&&(b=this.extendTranslation(b,e,t,n));else{let X=!1,ae=!1;!this.isValidLookup(b)&&O&&(X=!0,b=Z),this.isValidLookup(b)||(ae=!0,b=a);const he=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ae?void 0:b,we=O&&Z!==b&&this.options.updateMissing;if(ae||X||we){if(this.logger.log(we?"updateKey":"missingKey",u,c,a,we?Z:b),i){const ee=this.resolve(a,{...t,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let gt=[];const Jt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Jt&&Jt[0])for(let ee=0;ee<Jt.length;ee++)gt.push(Jt[ee]);else this.options.saveMissingTo==="all"?gt=this.languageUtils.toResolveHierarchy(t.lng||this.language):gt.push(t.lng||this.language);const us=(ee,ze,mt)=>{var hs;const ds=O&&mt!==b?mt:he;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,c,ze,ds,we,t):(hs=this.backendConnector)!=null&&hs.saveMissing&&this.backendConnector.saveMissing(ee,c,ze,ds,we,t),this.emit("missingKey",ee,c,ze,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?gt.forEach(ee=>{const ze=this.pluralResolver.getSuffixes(ee,t);Ae&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ze.indexOf(`${this.options.pluralSeparator}zero`)<0&&ze.push(`${this.options.pluralSeparator}zero`),ze.forEach(mt=>{us([ee],a+mt,t[`defaultValue${mt}`]||Z)})}):us(gt,a,Z))}b=this.extendTranslation(b,e,t,v,n),ae&&b===a&&this.options.appendNamespaceToMissingKey&&(b=`${c}:${a}`),(ae||X)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,X?b:void 0))}return s?(v.res=b,v.usedParams=this.getUsedParamsDetails(t),v):b}extendTranslation(e,t,n,s,i){var u,h;var a=this;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const v=P(e)&&(((h=n==null?void 0:n.interpolation)==null?void 0:h.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let b;if(v){const l=e.match(this.interpolator.nestingRegexp);b=l&&l.length}let S=n.replace&&!P(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,n.lng||this.language||s.usedLng,n),v){const l=e.match(this.interpolator.nestingRegexp),d=l&&l.length;b<d&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];return(i==null?void 0:i[0])===d[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${t[0]}`),null):a.translate(...d,t)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=P(o)?[o]:o;return e!=null&&(c!=null&&c.length)&&n.applyPostProcessor!==!1&&(e=tr.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,i,a,o;return P(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,t),h=u.key;s=h;let v=u.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=t.count!==void 0&&!P(t.count),S=b&&!t.ordinal&&t.count===0,l=t.context!==void 0&&(P(t.context)||typeof t.context=="number")&&t.context!=="",d=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(p=>{var g,C;this.isValidLookup(n)||(o=p,!bs[`${d[0]}-${p}`]&&((g=this.utils)!=null&&g.hasLoadedNamespace)&&!((C=this.utils)!=null&&C.hasLoadedNamespace(o))&&(bs[`${d[0]}-${p}`]=!0,this.logger.warn(`key "${s}" for languages "${d.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach(O=>{var Ae;if(this.isValidLookup(n))return;a=O;const D=[h];if((Ae=this.i18nFormat)!=null&&Ae.addLookupKeys)this.i18nFormat.addLookupKeys(D,h,O,p,t);else{let Z;b&&(Z=this.pluralResolver.getSuffix(O,t.count,t));const Q=`${this.options.pluralSeparator}zero`,Ye=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(D.push(h+Z),t.ordinal&&Z.indexOf(Ye)===0&&D.push(h+Z.replace(Ye,this.options.pluralSeparator)),S&&D.push(h+Q)),l){const Je=`${h}${this.options.contextSeparator}${t.context}`;D.push(Je),b&&(D.push(Je+Z),t.ordinal&&Z.indexOf(Ye)===0&&D.push(Je+Z.replace(Ye,this.options.pluralSeparator)),S&&D.push(Je+Q))}}let Ee;for(;Ee=D.pop();)this.isValidLookup(n)||(i=Ee,n=this.getResource(O,p,Ee,t))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){var i;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,t,n,s):this.resourceStore.getResource(e,t,n,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!P(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class ws{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ge.create("languageUtils")}getScriptPartFromCode(e){if(e=rn(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=rn(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(P(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),P(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return P(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):P(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const xs={zero:0,one:1,two:2,few:3,many:4,other:5},_s={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Nr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ge.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=rn(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_s;if(!e.match(/-|_/))return _s;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>xs[s]-xs[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const Ss=function(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Er(r,e,t);return!i&&s&&P(t)&&(i=Wn(r,t,n),i===void 0&&(i=Wn(e,t,n))),i},An=r=>r.replace(/\$/g,"$$$$");class Dr{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ge.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:u,unescapeSuffix:h,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:S,nestingSuffix:l,nestingSuffixEscaped:d,nestingOptionsSeparator:p,maxReplaces:g,alwaysFormat:C}=e.interpolation;this.escape=t!==void 0?t:Rr,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Ge(i):a||"{{",this.suffix=o?Ge(o):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=b?Ge(b):S||Ge("$t("),this.nestingSuffix=l?Ge(l):d||Ge(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=g||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>(t==null?void 0:t.source)===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,s){var S;let i,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=l=>{if(l.indexOf(this.formatSeparator)<0){const C=Ss(t,c,l,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,n,{...s,...t,interpolationkey:l}):C}const d=l.split(this.formatSeparator),p=d.shift().trim(),g=d.join(this.formatSeparator).trim();return this.format(Ss(t,c,p,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...s,...t,interpolationkey:p})};this.resetRegExp();const h=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((S=s==null?void 0:s.interpolation)==null?void 0:S.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:l=>An(l)},{regex:this.regexp,safeValue:l=>this.escapeValue?An(this.escape(l)):An(l)}].forEach(l=>{for(o=0;i=l.regex.exec(e);){const d=i[1].trim();if(a=u(d),a===void 0)if(typeof h=="function"){const g=h(e,i,s);a=P(g)?g:""}else if(s&&Object.prototype.hasOwnProperty.call(s,d))a="";else if(v){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${d} for interpolating ${e}`),a="";else!P(a)&&!this.useRawValueToEscape&&(a=fs(a));const p=l.safeValue(a);if(e=e.replace(i[0],p),v?(l.regex.lastIndex+=a.length,l.regex.lastIndex-=i[0].length):l.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;const o=(c,u)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const v=c.split(new RegExp(`${h}[ ]*{`));let b=`{${v[1]}`;c=v[0],b=this.interpolate(b,a);const S=b.match(/'/g),l=b.match(/"/g);(((S==null?void 0:S.length)??0)%2===0&&!l||l.length%2!==0)&&(b=b.replace(/'/g,'"'));try{a=JSON.parse(b),u&&(a={...u,...a})}catch(d){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,d),`${c}${h}${b}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;s=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!P(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const h=s[1].split(this.formatSeparator).map(v=>v.trim());s[1]=h.shift(),c=h,u=!0}if(i=t(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!P(i))return i;P(i)||(i=fs(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=c.reduce((h,v)=>this.format(h,v,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const $r=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const n=r.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();t[h]||(t[h]=u),u==="false"&&(t[h]=!1),u==="true"&&(t[h]=!0),isNaN(u)||(t[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Qe=r=>{const e={};return(t,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=n+JSON.stringify(i);let o=e[a];return o||(o=r(rn(n),s),e[a]=o),o(t)}};class Mr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ge.create("formatter"),this.options=e,this.formats={number:Qe((t,n)=>{const s=new Intl.NumberFormat(t,{...n});return i=>s.format(i)}),currency:Qe((t,n)=>{const s=new Intl.NumberFormat(t,{...n,style:"currency"});return i=>s.format(i)}),datetime:Qe((t,n)=>{const s=new Intl.DateTimeFormat(t,{...n});return i=>s.format(i)}),relativetime:Qe((t,n)=>{const s=new Intl.RelativeTimeFormat(t,{...n});return i=>s.format(i,n.range||"day")}),list:Qe((t,n)=>{const s=new Intl.ListFormat(t,{...n});return i=>s.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Qe(t)}format(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{var v;const{formatName:u,formatOptions:h}=$r(c);if(this.formats[u]){let b=o;try{const S=((v=s==null?void 0:s.formatParams)==null?void 0:v[s.interpolationkey])||{},l=S.locale||S.lng||s.locale||s.lng||n;b=this.formats[u](o,l,{...h,...s,...S})}catch(S){this.logger.warn(S)}return b}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const Vr=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class zr extends xn{constructor(e,t,n){var i,a;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=ge.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,s.backend,s)}queueLoad(e,t,n,s){const i={},a={},o={},c={};return e.forEach(u=>{let h=!0;t.forEach(v=>{const b=`${u}|${v}`;!n.reload&&this.store.hasResourceBundle(u,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?a[b]===void 0&&(a[b]=!0):(this.state[b]=1,h=!1,a[b]===void 0&&(a[b]=!0),i[b]===void 0&&(i[b]=!0),c[v]===void 0&&(c[v]=!0)))}),h||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,t,n){const s=e.split("|"),i=s[0],a=s[1];t&&this.emit("failedLoading",i,a,t),!t&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const o={};this.queue.forEach(c=>{Or(c.loaded,[i],a),Vr(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{o[u]||(o[u]={});const h=c.loaded[u];h.length&&h.forEach(v=>{o[u][v]===void 0&&(o[u][v]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(u&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,s+1,i*2,a)},i);return}a(u,h)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,t);u&&typeof u.then=="function"?u.then(h=>o(null,h)).catch(o):o(null,u)}catch(u){o(u)}return}return c(e,t,o)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();P(e)&&(e=this.languageUtils.toResolveHierarchy(e)),P(t)&&(t=[t]);const i=this.queueLoad(e,t,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,t,n,s,i){var c,u,h,v,b;let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((v=(h=this.services)==null?void 0:h.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((b=this.backend)!=null&&b.create){const S={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(e,t,n,s,S):d=l(e,t,n,s),d&&typeof d.then=="function"?d.then(p=>o(null,p)).catch(o):o(null,d)}catch(d){o(d)}else l(e,t,n,s,o,S)}!e||!e[0]||this.store.addResource(e[0],t,n,s)}}}const ks=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),P(r[1])&&(e.defaultValue=r[1]),P(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Cs=r=>{var e,t;return P(r.ns)&&(r.ns=[r.ns]),P(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),P(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((t=(e=r.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},Gt=()=>{},Fr=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class Tt extends xn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Cs(e),this.services={},this.logger=ge,this.modules={external:[]},Fr(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(P(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=ks();this.options={...s,...this.options,...Cs(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?ge.init(i(this.modules.logger),this.options):ge.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Mr;const v=new ws(this.options);this.store=new vs(this.options.resources,this.options);const b=this.services;b.logger=ge,b.resourceStore=this.store,b.languageUtils=v,b.pluralResolver=new Nr(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(b.formatter=i(h),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new Dr(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new zr(i(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(S){for(var l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];e.emit(S,...d)}),this.modules.languageDetector&&(b.languageDetector=i(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=i(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new on(this.services,this.options),this.translator.on("*",function(S){for(var l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];e.emit(S,...d)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Gt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const c=vt(),u=()=>{const h=(v,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(b),n(v,b)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(e){var i,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gt;const s=P(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(v=>{v!=="cimode"&&o.indexOf(v)<0&&o.push(v)})};s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>c(h)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>c(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,t,n){const s=vt();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Gt),this.services.backendConnector.reload(e,t,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const s=vt();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),t&&t(c,function(){return n.t(...arguments)})},o=c=>{var h,v;!e&&!c&&this.services.languageDetector&&(c=[]);const u=P(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(v=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||v.call(h,u)),this.loadResources(u,b=>{a(b,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,t,n){var s=this;const i=function(a,o){let c;if(typeof o!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),v=2;v<u;v++)h[v-2]=arguments[v];c=s.options.overloadTranslationOptionHandler([a,o].concat(h))}else c={...o};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const b=s.options.keySeparator||".";let S;return c.keyPrefix&&Array.isArray(a)?S=a.map(l=>`${c.keyPrefix}${b}${l}`):S=c.keyPrefix?`${c.keyPrefix}${b}${a}`:a,s.t(S,c)};return P(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){var s;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(s=this.translator)==null?void 0:s.translate(...t)}exists(){var s;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(s=this.translator)==null?void 0:s.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const u=this.services.backendConnector.state[`${o}|${c}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,t){const n=vt();return this.options.ns?(P(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=vt();P(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new ws(ks());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Tt(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gt;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Tt(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const o=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},Object.keys(c[u]).reduce((h,v)=>(h[v]={...c[u][v]},h),{})),{});i.store=new vs(o,s),i.services.resourceStore=i.store}return i.translator=new on(i.services,s),i.translator.on("*",function(o){for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];i.emit(o,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const H=Tt.createInstance();H.createInstance=Tt.createInstance;H.createInstance;H.dir;H.init;H.loadResources;H.reloadResources;H.use;H.changeLanguage;H.getFixedT;H.t;H.exists;H.setDefaultNamespace;H.hasLoadedNamespace;H.loadNamespaces;H.loadLanguages;var $=(r=>(r.persist="local",r.session="session",r))($||{});class G{constructor(e,t,n){z(this,"storageAreaMap",{[$.session]:U.storage.session,[$.persist]:U.storage.local});z(this,"state");this.moduleName=e,this.moduleSchema=t,this.eventService=n,this.eventService.subscribe({reset:this.reset.bind(this)}),this.state=t.getDefaultValue()}async sync(){this.state=await this.get()}async set(e){const t=new Map;Object.keys(this.storageAreaMap).forEach(n=>{t.set(n,{})}),Object.entries(e).forEach(([n,s])=>{const i=this.moduleSchema.getPropDescription(n),a=t.get(i)??{};t.set(i,{...a,[n]:s})}),this.state=Object.assign({},...t.values()),await Promise.all([...t.entries()].map(([n,s])=>this.storageAreaMap[n].set({[this.moduleName]:s})))}async setItems(e){const t=await this.get(),n=Object.assign({},t,e);await this.set(n)}async get(){const t=(await Promise.all(Object.values(this.storageAreaMap).map(a=>a.get(this.moduleName)))).map(a=>a[this.moduleName]),n=this.moduleSchema.getDefaultValue(),s=Object.assign({},n,...t);return this.moduleSchema.safeParseWithDefaults(s)}async getItems(...e){const t=await this.get();return G.pickPartialObject(t,e)}async remove(){await Promise.all(Object.values(this.storageAreaMap).map(e=>e.remove(this.moduleName)))}async removeItems(...e){const t=await this.get(),n=G.omitPartialObject(t,e);await this.set(n)}async reset(){const e=await this.get(),t=this.moduleSchema.getDefaultValue(),n=Object.entries(t).reduce((a,[o,c])=>({...a,[o]:e[o]??c}),{}),s=this.moduleSchema.safeParse(n),i=s.success?s.data:t;await this.set(i)}static omitPartialObject(e,t){return Object.fromEntries(Object.entries(e).filter(([s])=>!t.includes(s)))}static pickPartialObject(e,t){return Object.fromEntries(t.map(s=>[s,e[s]]))}}class Ur{constructor(){z(this,"eventMap",new Map)}subscribe(e){Object.entries(e).forEach(([n,s])=>{this.eventMap.has(n)||this.eventMap.set(n,[]);const i=[...this.eventMap.get(n)??[],s];this.eventMap.set(n,i)})}dispatch(e){const t=Object.entries(e),n=[];return t.forEach(([s,i])=>{(this.eventMap.get(s)??[]).forEach(o=>{n.push(o(i))})}),n}}const se=new Ur;var M;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},r.getValidEnumValues=s=>{const i=r.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return r.objectValues(a)},r.objectValues=s=>r.objectKeys(s).map(function(i){return s[i]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},r.find=(s,i)=>{for(const a of s)if(i(a))return a},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(M||(M={}));var Hn;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Hn||(Hn={}));const A=M.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_e=r=>{switch(typeof r){case"undefined":return A.undefined;case"string":return A.string;case"number":return isNaN(r)?A.nan:A.number;case"boolean":return A.boolean;case"function":return A.function;case"bigint":return A.bigint;case"symbol":return A.symbol;case"object":return Array.isArray(r)?A.array:r===null?A.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?A.promise:typeof Map<"u"&&r instanceof Map?A.map:typeof Set<"u"&&r instanceof Set?A.set:typeof Date<"u"&&r instanceof Date?A.date:A.object;default:return A.unknown}},k=M.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Zr=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class ne extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof ne))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,M.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ne.create=r=>new ne(r);const ct=(r,e)=>{let t;switch(r.code){case k.invalid_type:r.received===A.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case k.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,M.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:t=`Unrecognized key(s) in object: ${M.joinValues(r.keys,", ")}`;break;case k.invalid_union:t="Invalid input";break;case k.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${M.joinValues(r.options)}`;break;case k.invalid_enum_value:t=`Invalid enum value. Expected ${M.joinValues(r.options)}, received '${r.received}'`;break;case k.invalid_arguments:t="Invalid function arguments";break;case k.invalid_return_type:t="Invalid function return type";break;case k.invalid_date:t="Invalid date";break;case k.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:M.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case k.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case k.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case k.custom:t="Invalid input";break;case k.invalid_intersection_types:t="Intersection results could not be merged";break;case k.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case k.not_finite:t="Number must be finite";break;default:t=e.defaultError,M.assertNever(r)}return{message:t}};let nr=ct;function Br(r){nr=r}function cn(){return nr}const ln=r=>{const{data:e,path:t,errorMaps:n,issueData:s}=r,i=[...t,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},Wr=[];function E(r,e){const t=cn(),n=ln({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===ct?void 0:ct].filter(s=>!!s)});r.common.issues.push(n)}class W{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if(s.status==="aborted")return T;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const s of t){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return W.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return T;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const T=Object.freeze({status:"aborted"}),st=r=>({status:"dirty",value:r}),K=r=>({status:"valid",value:r}),Kn=r=>r.status==="aborted",qn=r=>r.status==="dirty",He=r=>r.status==="valid",Pt=r=>typeof Promise<"u"&&r instanceof Promise;function un(r,e,t,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function sr(r,e,t,n,s){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var R;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(R||(R={}));var Ct,Ot;class ve{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Os=(r,e)=>{if(He(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ne(r.common.issues);return this._error=t,this._error}}};function L(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var c,u;const{message:h}=r;return a.code==="invalid_enum_value"?{message:h??o.defaultError}:typeof o.data>"u"?{message:(c=h??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=h??t)!==null&&u!==void 0?u:o.defaultError}},description:s}}class N{get description(){return this._def.description}_getType(e){return _e(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:_e(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new W,ctx:{common:e.parent.common,data:e.data,parsedType:_e(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Pt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_e(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Os(s,i)}"~validate"(e){var t,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_e(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return He(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(t=i==null?void 0:i.message)===null||t===void 0?void 0:t.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>He(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_e(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Pt(s)?s:Promise.resolve(s));return Os(n,i)}refine(e,t){const n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:k.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new ue({schema:this,typeName:I.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return me.create(this,this._def)}nullable(){return Me.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return le.create(this)}promise(){return ut.create(this,this._def)}or(e){return Dt.create([this,e],this._def)}and(e){return $t.create(this,e,this._def)}transform(e){return new ue({...L(this._def),schema:this,typeName:I.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ut({...L(this._def),innerType:this,defaultValue:t,typeName:I.ZodDefault})}brand(){return new ss({typeName:I.ZodBranded,type:this,...L(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Zt({...L(this._def),innerType:this,catchValue:t,typeName:I.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return qt.create(this,e)}readonly(){return Bt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hr=/^c[^\s-]{8,}$/i,Kr=/^[0-9a-z]+$/,qr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jr=/^[a-z0-9_-]{21}$/i,Gr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Qr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ei="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rn;const ti=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ni=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,si=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ri=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ii=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ai=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oi=new RegExp(`^${rr}$`);function ir(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ci(r){return new RegExp(`^${ir(r)}$`)}function ar(r){let e=`${rr}T${ir(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function li(r,e){return!!((e==="v4"||!e)&&ti.test(r)||(e==="v6"||!e)&&si.test(r))}function ui(r,e){if(!Gr.test(r))return!1;try{const[t]=r.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function di(r,e){return!!((e==="v4"||!e)&&ni.test(r)||(e==="v6"||!e)&&ri.test(r))}class ce extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==A.string){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_type,expected:A.string,received:i.parsedType}),T}const n=new W;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),E(s,{code:k.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),E(s,{code:k.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?E(s,{code:k.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&E(s,{code:k.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Xr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"email",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Rn||(Rn=new RegExp(ei,"u")),Rn.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"emoji",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Yr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"uuid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Jr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"nanoid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Hr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"cuid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Kr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"cuid2",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")qr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"ulid",code:k.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),E(s,{validation:"url",code:k.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"regex",code:k.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),E(s,{code:k.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),E(s,{code:k.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),E(s,{code:k.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ar(i).test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{code:k.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?oi.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{code:k.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?ci(i).test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{code:k.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Qr.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"duration",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?li(e.data,i.version)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"ip",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?ui(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"jwt",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?di(e.data,i.version)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"cidr",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ii.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"base64",code:k.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ai.test(e.data)||(s=this._getOrReturnCtx(e,s),E(s,{validation:"base64url",code:k.invalid_string,message:i.message}),n.dirty()):M.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:k.invalid_string,...R.errToObj(n)})}_addCheck(e){return new ce({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...R.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...R.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...R.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...R.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...R.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...R.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...R.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...R.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...R.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...R.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...R.errToObj(t)})}nonempty(e){return this.min(1,R.errToObj(e))}trim(){return new ce({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ce({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ce({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ce.create=r=>{var e;return new ce({checks:[],typeName:I.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...L(r)})};function hi(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,i=parseInt(r.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ne extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==A.number){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_type,expected:A.number,received:i.parsedType}),T}let n;const s=new W;for(const i of this._def.checks)i.kind==="int"?M.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{code:k.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?hi(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),E(n,{code:k.not_finite,message:i.message}),s.dirty()):M.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,n,s){return new Ne({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:R.toString(s)}]})}_addCheck(e){return new Ne({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&M.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ne.create=r=>new Ne({checks:[],typeName:I.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...L(r)});class De extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==A.bigint)return this._getInvalidInput(e);let n;const s=new W;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),E(n,{code:k.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):M.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return E(t,{code:k.invalid_type,expected:A.bigint,received:t.parsedType}),T}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,n,s){return new De({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:R.toString(s)}]})}_addCheck(e){return new De({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}De.create=r=>{var e;return new De({checks:[],typeName:I.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...L(r)})};class Lt extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==A.boolean){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.boolean,received:n.parsedType}),T}return K(e.data)}}Lt.create=r=>new Lt({typeName:I.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...L(r)});class Ke extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==A.date){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_type,expected:A.date,received:i.parsedType}),T}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return E(i,{code:k.invalid_date}),T}const n=new W;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),E(s,{code:k.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),E(s,{code:k.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):M.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ke.create=r=>new Ke({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:I.ZodDate,...L(r)});class dn extends N{_parse(e){if(this._getType(e)!==A.symbol){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.symbol,received:n.parsedType}),T}return K(e.data)}}dn.create=r=>new dn({typeName:I.ZodSymbol,...L(r)});class jt extends N{_parse(e){if(this._getType(e)!==A.undefined){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.undefined,received:n.parsedType}),T}return K(e.data)}}jt.create=r=>new jt({typeName:I.ZodUndefined,...L(r)});class Nt extends N{_parse(e){if(this._getType(e)!==A.null){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.null,received:n.parsedType}),T}return K(e.data)}}Nt.create=r=>new Nt({typeName:I.ZodNull,...L(r)});class lt extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return K(e.data)}}lt.create=r=>new lt({typeName:I.ZodAny,...L(r)});class We extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return K(e.data)}}We.create=r=>new We({typeName:I.ZodUnknown,...L(r)});class Oe extends N{_parse(e){const t=this._getOrReturnCtx(e);return E(t,{code:k.invalid_type,expected:A.never,received:t.parsedType}),T}}Oe.create=r=>new Oe({typeName:I.ZodNever,...L(r)});class hn extends N{_parse(e){if(this._getType(e)!==A.undefined){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.void,received:n.parsedType}),T}return K(e.data)}}hn.create=r=>new hn({typeName:I.ZodVoid,...L(r)});class le extends N{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==A.array)return E(t,{code:k.invalid_type,expected:A.array,received:t.parsedType}),T;if(s.exactLength!==null){const a=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(a||o)&&(E(t,{code:a?k.too_big:k.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(E(t,{code:k.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(E(t,{code:k.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>s.type._parseAsync(new ve(t,a,t.path,o)))).then(a=>W.mergeArray(n,a));const i=[...t.data].map((a,o)=>s.type._parseSync(new ve(t,a,t.path,o)));return W.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new le({...this._def,minLength:{value:e,message:R.toString(t)}})}max(e,t){return new le({...this._def,maxLength:{value:e,message:R.toString(t)}})}length(e,t){return new le({...this._def,exactLength:{value:e,message:R.toString(t)}})}nonempty(e){return this.min(1,e)}}le.create=(r,e)=>new le({type:r,minLength:null,maxLength:null,exactLength:null,typeName:I.ZodArray,...L(e)});function nt(r){if(r instanceof F){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=me.create(nt(n))}return new F({...r._def,shape:()=>e})}else return r instanceof le?new le({...r._def,type:nt(r.element)}):r instanceof me?me.create(nt(r.unwrap())):r instanceof Me?Me.create(nt(r.unwrap())):r instanceof be?be.create(r.items.map(e=>nt(e))):r}class F extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=M.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==A.object){const u=this._getOrReturnCtx(e);return E(u,{code:k.invalid_type,expected:A.object,received:u.parsedType}),T}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Oe&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const h=i[u],v=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new ve(s,v,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Oe){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of o)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")o.length>0&&(E(s,{code:k.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of o){const v=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new ve(s,v,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const v=await h.key,b=await h.value;u.push({key:v,value:b,alwaysSet:h.alwaysSet})}return u}).then(u=>W.mergeObjectSync(n,u)):W.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new F({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,t,n).message)!==null&&a!==void 0?a:n.defaultError;return t.code==="unrecognized_keys"?{message:(o=R.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new F({...this._def,unknownKeys:"strip"})}passthrough(){return new F({...this._def,unknownKeys:"passthrough"})}extend(e){return new F({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new F({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:I.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new F({...this._def,catchall:e})}pick(e){const t={};return M.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new F({...this._def,shape:()=>t})}omit(e){const t={};return M.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new F({...this._def,shape:()=>t})}deepPartial(){return nt(this)}partial(e){const t={};return M.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new F({...this._def,shape:()=>t})}required(e){const t={};return M.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof me;)i=i._def.innerType;t[n]=i}}),new F({...this._def,shape:()=>t})}keyof(){return or(M.objectKeys(this.shape))}}F.create=(r,e)=>new F({shape:()=>r,unknownKeys:"strip",catchall:Oe.create(),typeName:I.ZodObject,...L(e)});F.strictCreate=(r,e)=>new F({shape:()=>r,unknownKeys:"strict",catchall:Oe.create(),typeName:I.ZodObject,...L(e)});F.lazycreate=(r,e)=>new F({shape:r,unknownKeys:"strip",catchall:Oe.create(),typeName:I.ZodObject,...L(e)});class Dt extends N{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new ne(o.ctx.common.issues));return E(t,{code:k.invalid_union,unionErrors:a}),T}if(t.common.async)return Promise.all(n.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...t,common:{...t.common,issues:[]},parent:null},h=c._parseSync({data:t.data,path:t.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new ne(c));return E(t,{code:k.invalid_union,unionErrors:o}),T}}get options(){return this._def.options}}Dt.create=(r,e)=>new Dt({options:r,typeName:I.ZodUnion,...L(e)});const xe=r=>r instanceof Vt?xe(r.schema):r instanceof ue?xe(r.innerType()):r instanceof zt?[r.value]:r instanceof $e?r.options:r instanceof Ft?M.objectValues(r.enum):r instanceof Ut?xe(r._def.innerType):r instanceof jt?[void 0]:r instanceof Nt?[null]:r instanceof me?[void 0,...xe(r.unwrap())]:r instanceof Me?[null,...xe(r.unwrap())]:r instanceof ss||r instanceof Bt?xe(r.unwrap()):r instanceof Zt?xe(r._def.innerType):[];class _n extends N{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==A.object)return E(t,{code:k.invalid_type,expected:A.object,received:t.parsedType}),T;const n=this.discriminator,s=t.data[n],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(E(t,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),T)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const i of t){const a=xe(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new _n({typeName:I.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...L(n)})}}function Yn(r,e){const t=_e(r),n=_e(e);if(r===e)return{valid:!0,data:r};if(t===A.object&&n===A.object){const s=M.objectKeys(e),i=M.objectKeys(r).filter(o=>s.indexOf(o)!==-1),a={...r,...e};for(const o of i){const c=Yn(r[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(t===A.array&&n===A.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<r.length;i++){const a=r[i],o=e[i],c=Yn(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===A.date&&n===A.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class $t extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Kn(i)||Kn(a))return T;const o=Yn(i.value,a.value);return o.valid?((qn(i)||qn(a))&&t.dirty(),{status:t.value,value:o.data}):(E(n,{code:k.invalid_intersection_types}),T)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}$t.create=(r,e,t)=>new $t({left:r,right:e,typeName:I.ZodIntersection,...L(t)});class be extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.array)return E(n,{code:k.invalid_type,expected:A.array,received:n.parsedType}),T;if(n.data.length<this._def.items.length)return E(n,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;!this._def.rest&&n.data.length>this._def.items.length&&(E(n,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ve(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>W.mergeArray(t,a)):W.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new be({...this._def,rest:e})}}be.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new be({items:r,typeName:I.ZodTuple,rest:null,...L(e)})};class Mt extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.object)return E(n,{code:k.invalid_type,expected:A.object,received:n.parsedType}),T;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new ve(n,o,n.path,o)),value:a._parse(new ve(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?W.mergeObjectAsync(t,s):W.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof N?new Mt({keyType:e,valueType:t,typeName:I.ZodRecord,...L(n)}):new Mt({keyType:ce.create(),valueType:e,typeName:I.ZodRecord,...L(t)})}}class fn extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.map)return E(n,{code:k.invalid_type,expected:A.map,received:n.parsedType}),T;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],u)=>({key:s._parse(new ve(n,o,n.path,[u,"key"])),value:i._parse(new ve(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return T;(u.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(u.value,h.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return T;(u.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(u.value,h.value)}return{status:t.value,value:o}}}}fn.create=(r,e,t)=>new fn({valueType:e,keyType:r,typeName:I.ZodMap,...L(t)});class qe extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.set)return E(n,{code:k.invalid_type,expected:A.set,received:n.parsedType}),T;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(E(n,{code:k.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(E(n,{code:k.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const h of c){if(h.status==="aborted")return T;h.status==="dirty"&&t.dirty(),u.add(h.value)}return{status:t.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new ve(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,t){return new qe({...this._def,minSize:{value:e,message:R.toString(t)}})}max(e,t){return new qe({...this._def,maxSize:{value:e,message:R.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}qe.create=(r,e)=>new qe({valueType:r,minSize:null,maxSize:null,typeName:I.ZodSet,...L(e)});class it extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==A.function)return E(t,{code:k.invalid_type,expected:A.function,received:t.parsedType}),T;function n(o,c){return ln({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cn(),ct].filter(u=>!!u),issueData:{code:k.invalid_arguments,argumentsError:c}})}function s(o,c){return ln({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cn(),ct].filter(u=>!!u),issueData:{code:k.invalid_return_type,returnTypeError:c}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ut){const o=this;return K(async function(...c){const u=new ne([]),h=await o._def.args.parseAsync(c,i).catch(S=>{throw u.addIssue(n(c,S)),u}),v=await Reflect.apply(a,this,h);return await o._def.returns._def.type.parseAsync(v,i).catch(S=>{throw u.addIssue(s(v,S)),u})})}else{const o=this;return K(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new ne([n(c,u.error)]);const h=Reflect.apply(a,this,u.data),v=o._def.returns.safeParse(h,i);if(!v.success)throw new ne([s(h,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new it({...this._def,args:be.create(e).rest(We.create())})}returns(e){return new it({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new it({args:e||be.create([]).rest(We.create()),returns:t||We.create(),typeName:I.ZodFunction,...L(n)})}}class Vt extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Vt.create=(r,e)=>new Vt({getter:r,typeName:I.ZodLazy,...L(e)});class zt extends N{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return E(t,{received:t.data,code:k.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:e.data}}get value(){return this._def.value}}zt.create=(r,e)=>new zt({value:r,typeName:I.ZodLiteral,...L(e)});function or(r,e){return new $e({values:r,typeName:I.ZodEnum,...L(e)})}class $e extends N{constructor(){super(...arguments),Ct.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return E(t,{expected:M.joinValues(n),received:t.parsedType,code:k.invalid_type}),T}if(un(this,Ct)||sr(this,Ct,new Set(this._def.values)),!un(this,Ct).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return E(t,{received:t.data,code:k.invalid_enum_value,options:n}),T}return K(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return $e.create(e,{...this._def,...t})}exclude(e,t=this._def){return $e.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}Ct=new WeakMap;$e.create=or;class Ft extends N{constructor(){super(...arguments),Ot.set(this,void 0)}_parse(e){const t=M.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==A.string&&n.parsedType!==A.number){const s=M.objectValues(t);return E(n,{expected:M.joinValues(s),received:n.parsedType,code:k.invalid_type}),T}if(un(this,Ot)||sr(this,Ot,new Set(M.getValidEnumValues(this._def.values))),!un(this,Ot).has(e.data)){const s=M.objectValues(t);return E(n,{received:n.data,code:k.invalid_enum_value,options:s}),T}return K(e.data)}get enum(){return this._def.values}}Ot=new WeakMap;Ft.create=(r,e)=>new Ft({values:r,typeName:I.ZodNativeEnum,...L(e)});class ut extends N{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==A.promise&&t.common.async===!1)return E(t,{code:k.invalid_type,expected:A.promise,received:t.parsedType}),T;const n=t.parsedType===A.promise?t.data:Promise.resolve(t.data);return K(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ut.create=(r,e)=>new ut({type:r,typeName:I.ZodPromise,...L(e)});class ue extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===I.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{E(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return T;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?T:c.status==="dirty"||t.value==="dirty"?st(c.value):c});{if(t.value==="aborted")return T;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?T:o.status==="dirty"||t.value==="dirty"?st(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?T:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?T:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!He(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>He(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:t.value,value:o})):a);M.assertNever(s)}}ue.create=(r,e,t)=>new ue({schema:r,typeName:I.ZodEffects,effect:e,...L(t)});ue.createWithPreprocess=(r,e,t)=>new ue({schema:e,effect:{type:"preprocess",transform:r},typeName:I.ZodEffects,...L(t)});class me extends N{_parse(e){return this._getType(e)===A.undefined?K(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}me.create=(r,e)=>new me({innerType:r,typeName:I.ZodOptional,...L(e)});class Me extends N{_parse(e){return this._getType(e)===A.null?K(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Me.create=(r,e)=>new Me({innerType:r,typeName:I.ZodNullable,...L(e)});class Ut extends N{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===A.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ut.create=(r,e)=>new Ut({innerType:r,typeName:I.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...L(e)});class Zt extends N{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Pt(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ne(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ne(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Zt.create=(r,e)=>new Zt({innerType:r,typeName:I.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...L(e)});class pn extends N{_parse(e){if(this._getType(e)!==A.nan){const n=this._getOrReturnCtx(e);return E(n,{code:k.invalid_type,expected:A.nan,received:n.parsedType}),T}return{status:"valid",value:e.data}}}pn.create=r=>new pn({typeName:I.ZodNaN,...L(r)});const fi=Symbol("zod_brand");class ss extends N{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class qt extends N{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?T:i.status==="dirty"?(t.dirty(),st(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?T:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new qt({in:e,out:t,typeName:I.ZodPipeline})}}class Bt extends N{_parse(e){const t=this._def.innerType._parse(e),n=s=>(He(s)&&(s.value=Object.freeze(s.value)),s);return Pt(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}}Bt.create=(r,e)=>new Bt({innerType:r,typeName:I.ZodReadonly,...L(e)});function Es(r,e){const t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function cr(r,e={},t){return r?lt.create().superRefine((n,s)=>{var i,a;const o=r(n);if(o instanceof Promise)return o.then(c=>{var u,h;if(!c){const v=Es(e,n),b=(h=(u=v.fatal)!==null&&u!==void 0?u:t)!==null&&h!==void 0?h:!0;s.addIssue({code:"custom",...v,fatal:b})}});if(!o){const c=Es(e,n),u=(a=(i=c.fatal)!==null&&i!==void 0?i:t)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:u})}}):lt.create()}const pi={object:F.lazycreate};var I;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(I||(I={}));const gi=(r,e={message:`Input not instance of ${r.name}`})=>cr(t=>t instanceof r,e),lr=ce.create,ur=Ne.create,mi=pn.create,vi=De.create,dr=Lt.create,bi=Ke.create,yi=dn.create,wi=jt.create,xi=Nt.create,_i=lt.create,Si=We.create,ki=Oe.create,Ci=hn.create,Oi=le.create,Ei=F.create,Ai=F.strictCreate,Ri=Dt.create,Ii=_n.create,Ti=$t.create,Pi=be.create,Li=Mt.create,ji=fn.create,Ni=qe.create,Di=it.create,$i=Vt.create,Mi=zt.create,Vi=$e.create,zi=Ft.create,Fi=ut.create,As=ue.create,Ui=me.create,Zi=Me.create,Bi=ue.createWithPreprocess,Wi=qt.create,Hi=()=>lr().optional(),Ki=()=>ur().optional(),qi=()=>dr().optional(),Yi={string:r=>ce.create({...r,coerce:!0}),number:r=>Ne.create({...r,coerce:!0}),boolean:r=>Lt.create({...r,coerce:!0}),bigint:r=>De.create({...r,coerce:!0}),date:r=>Ke.create({...r,coerce:!0})},Ji=T;var f=Object.freeze({__proto__:null,defaultErrorMap:ct,setErrorMap:Br,getErrorMap:cn,makeIssue:ln,EMPTY_PATH:Wr,addIssueToContext:E,ParseStatus:W,INVALID:T,DIRTY:st,OK:K,isAborted:Kn,isDirty:qn,isValid:He,isAsync:Pt,get util(){return M},get objectUtil(){return Hn},ZodParsedType:A,getParsedType:_e,ZodType:N,datetimeRegex:ar,ZodString:ce,ZodNumber:Ne,ZodBigInt:De,ZodBoolean:Lt,ZodDate:Ke,ZodSymbol:dn,ZodUndefined:jt,ZodNull:Nt,ZodAny:lt,ZodUnknown:We,ZodNever:Oe,ZodVoid:hn,ZodArray:le,ZodObject:F,ZodUnion:Dt,ZodDiscriminatedUnion:_n,ZodIntersection:$t,ZodTuple:be,ZodRecord:Mt,ZodMap:fn,ZodSet:qe,ZodFunction:it,ZodLazy:Vt,ZodLiteral:zt,ZodEnum:$e,ZodNativeEnum:Ft,ZodPromise:ut,ZodEffects:ue,ZodTransformer:ue,ZodOptional:me,ZodNullable:Me,ZodDefault:Ut,ZodCatch:Zt,ZodNaN:pn,BRAND:fi,ZodBranded:ss,ZodPipeline:qt,ZodReadonly:Bt,custom:cr,Schema:N,ZodSchema:N,late:pi,get ZodFirstPartyTypeKind(){return I},coerce:Yi,any:_i,array:Oi,bigint:vi,boolean:dr,date:bi,discriminatedUnion:Ii,effect:As,enum:Vi,function:Di,instanceof:gi,intersection:Ti,lazy:$i,literal:Mi,map:ji,nan:mi,nativeEnum:zi,never:ki,null:xi,nullable:Zi,number:ur,object:Ei,oboolean:qi,onumber:Ki,optional:Ui,ostring:Hi,pipeline:Wi,preprocess:Bi,promise:Fi,record:Li,set:Ni,strictObject:Ai,string:lr,symbol:yi,transformer:As,tuple:Pi,undefined:wi,union:Ri,unknown:Si,void:Ci,NEVER:Ji,ZodIssueCode:k,quotelessJson:Zr,ZodError:ne});class de{constructor(e){this.schema=e}getDefaultValue(){return this.schema.parse(void 0)}validate(e){return this.schema.safeParse(e).success}safeParse(e){return this.schema.safeParse(e)}safeParseWithDefaults(e){const t=this.safeParse(e),n=this.getDefaultValue();return t.success?Object.assign({},n,t.data):n}getPropDescription(e){return this.schema._def.innerType.shape[e].description}}const In="https://veepn.com/",Rs="udid",Gi=["local","cookie","new"],Qi=f.object({type:f.enum(Gi),value:f.string()}),Xi=f.object({width:f.number(),height:f.number()}),ea=f.object({installedAt:f.number().describe($.persist),deviceScreen:Xi.optional().describe($.persist),criticalError:f.boolean().optional().describe($.persist),udid:Qi.optional().describe($.persist)}).default({installedAt:Date.now()}),ta=new de(ea);class rs extends ie{constructor(t){super();z(this,"glogalBootResolve");z(this,"appBooted");this.globalStateStorage=t,this.glogalBootResolve=()=>{},this.appBooted=new Promise(n=>{this.glogalBootResolve=n})}get udid(){return this.globalStateStorage.state.udid??{type:"new",value:""}}get criticalError(){return!!this.globalStateStorage.state.criticalError}get installedAt(){return this.globalStateStorage.state.installedAt??0}get deviceScreen(){return this.globalStateStorage.state.deviceScreen??{width:0,height:0}}async boot(){await this.globalStateStorage.sync(),this.globalStateStorage.state.installedAt||await this.setAppInstallationDate(Date.now());const t=await this.generateUdid();await this.setUdid(t),this.bootResolve(),await this.bootPromise}globalboot(){this.glogalBootResolve()}async setCriticalError(t){await this.globalStateStorage.setItems({criticalError:t})}async setDeviceScreenData(t){await this.globalStateStorage.setItems({deviceScreen:t})}async setAppInstallationDate(t){await this.globalStateStorage.setItems({installedAt:t})}async setUdid(t){await rs.setCookiesUdid(t.value),await this.globalStateStorage.setItems({udid:t})}async generateUdid(){const{udid:t}=await this.globalStateStorage.getItems("udid");if(t!=null&&t.value)return{type:"local",value:t.value};const n=await U.cookies.get({url:In,name:"udid"});return n!=null&&n.value?{type:"cookie",value:n.value}:{type:"new",value:crypto.randomUUID()}}static async setCookiesUdid(t){const n=new URL(In),s=new Date;s.setFullYear(s.getFullYear()+1),await U.cookies.set({name:Rs,value:t,url:n.href,domain:`.${n.hostname}`,expirationDate:s.getTime()/1e3})}async getCookiesUdid(){Promise.resolve(this).catch(()=>{});const t=new URL(In),n=await U.cookies.get({name:Rs,url:t.href});return n==null?void 0:n.value}}const na=new G("global-state",ta,se),Yt=new rs(na);function sa(r){return!!(typeof r=="object"&&r!==null&&"errors"in r&&Array.isArray(r.errors))}function ra(r){return typeof r=="object"&&r!==null&&"success"in r&&"data"in r}function ia(r){return typeof r=="object"&&r!==null&&"name"in r&&"message"in r&&"code"in r}class Wt{constructor(){z(this,"ABORT_FETCH_TIME",1e4)}async request(e){try{const t=new AbortController,n=e.timeout??this.ABORT_FETCH_TIME,s=setTimeout(()=>t.abort(),n),i=await fetch(e.url,{signal:t.signal,method:e.method,headers:{Accept:"application/json","Content-Type":"application/json",...e.headers??{}},...e.body?{body:JSON.stringify(e.body)}:{},...e.cache?{cache:e.cache}:{}});if(clearTimeout(s),!i.ok)throw i;const a=i.headers.get("content-type"),o=a!=null&&a.includes("application/json")?await i.json():await i.text();return ra(o)?o:{success:!0,data:o}}catch(t){if(t instanceof Response)try{const n=await t.json();return sa(n)?n:{success:!1,errors:[{name:"fetch",message:`Fetch error at ${e.url}. ${t.statusText}`,status:t.status,code:1}]}}catch{return{success:!1,errors:[{name:"fetch",message:`Fetch error at ${e.url}. ${t.statusText}`,status:t.status,code:2}]}}return ia(t)?{success:!1,errors:[{name:t.name,message:"Server take long time to response. Please, try again or contact us for assistance.",status:0,code:t.code}]}:{success:!1,errors:[{name:"custom",message:`Fetch error at ${e.url}`,status:0,code:4}]}}}static getStatusCodeMessage(e){var n,s,i,a;return(((n=e.errors[0])==null?void 0:n.status)||((s=e.errors[0])==null?void 0:s.message)||((i=e.errors[0])==null?void 0:i.name)||((a=e.errors[0])==null?void 0:a.code)||"unknown").toString()}}const Sn=new Wt,aa=["google-analytics","aws-kinesis","amplitude"],oa=f.object({types:f.array(f.enum(aa)),name:f.string(),data:f.record(f.string(),f.union([f.string(),f.number(),f.boolean()])).optional()});class qc{constructor(e){z(this,"type");z(this,"available",!1);z(this,"bootResolve");z(this,"bootReject");z(this,"bootPromise");this.type=e,this.bootResolve=()=>{},this.bootReject=()=>{},this.bootPromise=new Promise((t,n)=>{this.bootResolve=()=>{this.available=!0,t()},this.bootReject=()=>{this.available=!1,n(new Error("boot error AnalyticsEntity"))}})}}const ca=f.object({group:f.number(),slug:f.string()}),la=f.object({collectAnalytics:f.boolean(),privacyAgreement:f.boolean()}),ua=f.object({privacy:la.optional().describe($.persist),experiment:ca.optional().describe($.persist),eventsBuffer:f.array(oa).optional().describe($.session)}).default({}),da=new de(ua);class ha extends ie{constructor(t){super();z(this,"services",new Map);z(this,"saveEventPromises",[]);this.analyticsStateStorage=t}get experiment(){return this.analyticsStateStorage.state.experiment??null}get needPrivacyAcceptance(){return!this.analyticsStateStorage.state.privacy}get canSendAnalytics(){const{privacy:t}=this.analyticsStateStorage.state;return!!(t!=null&&t.privacyAgreement)&&!!(t!=null&&t.collectAnalytics)}get eventsBuffer(){return this.analyticsStateStorage.state.eventsBuffer??[]}async boot(){await this.analyticsStateStorage.sync(),this.needPrivacyAcceptance&&await this.setPrivacy({collectAnalytics:!0,privacyAgreement:!0}),this.bootResolve(),await this.bootPromise}use(t){this.services.has(t.type)||this.services.set(t.type,t)}sendEvent(t){if(this.needPrivacyAcceptance){this.saveEventPromises.push(this.saveEventToBuffer(t));return}this.canSendAnalytics&&t.types.forEach(n=>{const s=this.services.get(n);s==null||s.send(t).catch(()=>{})})}async setExperiment(t){await this.analyticsStateStorage.setItems({experiment:t})}async removeExperiment(){await this.analyticsStateStorage.removeItems("experiment")}async setPrivacy(t){await this.analyticsStateStorage.setItems({privacy:t}),this.canSendAnalytics&&this.sendBufferedEvents(),await this.clearEventsBuffer()}async saveEventToBuffer(t){await Promise.all([...this.saveEventPromises]),await this.analyticsStateStorage.setItems({eventsBuffer:[...this.eventsBuffer,t]})}sendBufferedEvents(){[...this.eventsBuffer].forEach(n=>{this.sendEvent(n)})}async clearEventsBuffer(){await this.analyticsStateStorage.setItems({eventsBuffer:[]}),this.saveEventPromises.length=0}}const fa=new G("analytics",da,se),kn=new ha(fa);var gn=(r=>(r[r.not_active=0]="not_active",r[r.control=1]="control",r[r.test=2]="test",r[r.test_g3=3]="test_g3",r[r.test_g4=4]="test_g4",r[r.test_g5=5]="test_g5",r))(gn||{}),It=(r=>(r[r.not_active=0]="not_active",r[r.active=1]="active",r[r.complited=2]="complited",r))(It||{}),te=(r=>(r.limitLocations="abtest_limit_locations",r.guardAlert="abtest_guardio_popups",r.lockScreen="abtest_lock_screen",r.discount60off="abtest_60off_discount",r.promoBannerClose="abtest_promo_banner_close",r))(te||{});const pa=f.object({group:f.nativeEnum(gn),experiment_slug:f.nativeEnum(te),status:f.nativeEnum(It)}),ga=f.object({experiments:f.array(pa),updatedAt:f.number()}),ma=f.object({config:ga.optional().describe($.persist),ongoingExperiments:f.array(f.nativeEnum(te)).optional().describe($.persist)}).default({}),va=new de(ma),ba="https://split-tool.com/api/application-experiment/bulk-group/",ya="e9efc93ef559ff3064712c2a3399aff66eb8",Tn="https://veepn.com/",Pn="https://fake-veepn.com/",Xe="veepn-ab-tests",wa=24*60*60*1e3;class Ie extends ie{constructor(e,t,n,s,i){super(),this.bundleSettings=e,this.testStorage=t,this.globalStateService=n,this.fetchService=s,this.analyticsService=i}async boot(){var e;if(await this.testStorage.sync(),(((e=this.testStorage.state.config)==null?void 0:e.updatedAt)??0)+wa<Date.now()){const s=Object.values(this.bundleSettings).map(a=>a.experimentSlug),i=await this.fetchExperimentsConfigs(s);i.length>0?(await this.setExperimentsConfigs(i),await this.updateActiveExperiment()):await this.clearExperimentsData()}this.bootResolve(),await this.bootPromise}getExperimentActiveStatus(e){const{config:t,ongoingExperiments:n}=this.testStorage.state;if(!t||!n)return!1;const s=t.experiments.find(({experiment_slug:i})=>i===e);return s?s.group>=gn.test&&s.status===It.active&&n.includes(e)?!0:s.group>=gn.test&&s.status===It.complited:!1}getExperimentGroup(e){const{config:t,ongoingExperiments:n}=this.testStorage.state;if(!t||!n)return null;const s=t.experiments.find(({experiment_slug:i})=>i===e);return(s==null?void 0:s.group)??null}async initExperiments(e){const t=Object.values(this.bundleSettings).map(a=>a.experimentSlug),n=await Ie.getOngoingExperimentsCookie(),s=Object.values(this.bundleSettings).filter(a=>a.initReasons.includes(e)).map(a=>a.experimentSlug),i=[...new Set([...s,...n])].filter(a=>t.includes(a));await this.setOngoingExperiments(i),await this.updateActiveExperiment()}async updateActiveExperiment(){const{config:e,ongoingExperiments:t}=this.testStorage.state;if(!e||!t){await this.removeActiveExperiment();return}const n=e.experiments.find(s=>s.status===It.active);n&&t.includes(n.experiment_slug)?await this.setActiveExperiment(n):await this.removeActiveExperiment()}async clearExperimentsData(){await this.removeOngoingExperiments(),await this.removeActiveExperiment(),await this.removeExperimentsConfigs()}async fetchExperimentsConfigs(e){if(e.length===0)return[];const t={bundle_id:ya,udid:this.globalStateService.udid.value,experiment_name:e.join(", "),language:"en"},n=await this.fetchService.request({url:ba,method:"POST",body:t});return n.success?n.data:[]}async setExperimentsConfigs(e){await this.testStorage.setItems({config:{experiments:e,updatedAt:Date.now()}})}async removeExperimentsConfigs(){await this.testStorage.setItems({config:{experiments:[],updatedAt:Date.now()}})}async setActiveExperiment(e){await this.analyticsService.setExperiment({slug:e.experiment_slug,group:e.group});const t=await Ie.getActiveExperimentWebsiteCookie(e.experiment_slug);(t==null?void 0:t.group)===e.group&&(await Ie.setActiveExperimentWebsiteCookie([{slug:e.experiment_slug,group:e.group}]),this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:`${e.experiment_slug}_group_${e.group}`,data:{test_name:e.experiment_slug,user_group:e.group}}),this.analyticsService.sendEvent({types:["aws-kinesis"],name:"exp_group",data:{event_properties__exp_id:e.experiment_slug,event_properties__exp_var:e.group.toString()}}))}async removeActiveExperiment(){await this.analyticsService.removeExperiment(),await Ie.removeActiveExperimentWebsiteCookie()}async setOngoingExperiments(e){await this.testStorage.setItems({ongoingExperiments:e}),await Ie.setOngoingExperimentsCookie(e)}async removeOngoingExperiments(){await this.testStorage.setItems({ongoingExperiments:[]}),await Ie.removeOngoingExperimentsCookie()}static async getActiveExperimentWebsiteCookie(e){const t=new URL(Tn),n=await U.cookies.get({name:Xe,url:t.href});if(n)try{return JSON.parse(n.value).find(a=>a.slug===e)}catch{return}}static async setActiveExperimentWebsiteCookie(e){const t=new URL(Tn),n=new Date;n.setFullYear(n.getFullYear()+1),await U.cookies.set({name:Xe,value:JSON.stringify(e),url:t.href,domain:`.${t.hostname}`,expirationDate:n.getTime()/1e3})}static async removeActiveExperimentWebsiteCookie(){const e=new URL(Tn);await U.cookies.remove({name:Xe,url:e.href})}static async getOngoingExperimentsCookie(){const e=new URL(Pn),t=await U.cookies.get({name:Xe,url:e.href});if(!t)return[];try{const n=JSON.parse(t.value);return Array.isArray(n)&&n.every(s=>typeof s=="string")?n:[]}catch{return[]}}static async setOngoingExperimentsCookie(e){const t=new URL(Pn),n=new Date;n.setFullYear(n.getFullYear()+1),await U.cookies.set({name:Xe,value:JSON.stringify(e),url:t.href,domain:`.${t.hostname}`,expirationDate:n.getTime()/1e3})}static async removeOngoingExperimentsCookie(){const e=new URL(Pn);await U.cookies.remove({name:Xe,url:e.href})}}const xa=new G("test",va,se),_a={[te.limitLocations]:{experimentSlug:te.limitLocations,initReasons:["install"]},[te.guardAlert]:{experimentSlug:te.guardAlert,initReasons:["install","update"]},[te.lockScreen]:{experimentSlug:te.lockScreen,initReasons:["install"]},[te.discount60off]:{experimentSlug:te.discount60off,initReasons:["install"]},[te.promoBannerClose]:{experimentSlug:te.discount60off,initReasons:["install","update"]}},Yc=new Ie(_a,xa,Yt,Sn,kn);var hr=(r=>(r[r.regular=0]="regular",r[r.lifeTime=1]="lifeTime",r))(hr||{}),is=(r=>(r[r.prepaid=0]="prepaid",r[r.trial=1]="trial",r))(is||{}),Te=(r=>(r[r.disabled=0]="disabled",r[r.active=1]="active",r))(Te||{}),fr=(r=>(r[r.noSlots=0]="noSlots",r[r.hasSlots=1]="hasSlots",r))(fr||{}),mn=(r=>(r[r.missing=0]="missing",r[r.vpn=1]="vpn",r[r.slot=2]="slot",r[r.antivirus=3]="antivirus",r[r.bundle=4]="bundle",r))(mn||{}),Ue=(r=>(r[r.disabled=0]="disabled",r[r.active=1]="active",r))(Ue||{}),pr=(r=>(r[r.needConfirm=0]="needConfirm",r[r.confirmed=1]="confirmed",r))(pr||{});const Sa=f.object({name:f.string(),infinity:f.nativeEnum(hr),trial:f.nativeEnum(is),status:f.nativeEnum(Te),slot:f.nativeEnum(fr),startTime:f.number(),endTime:f.number(),countdown:f.number(),today:f.number()}),ka=f.object({id:f.number(),username:f.string(),email:f.string().email(),status:f.nativeEnum(Ue),confirm:f.nativeEnum(pr),registeredAt:f.number(),registeredCountryCode:f.string(),lastLoggedAt:f.number(),lastCountryCode:f.string(),confirmedEmailAt:f.number(),shareUrl:f.string().url()}),Ca=f.object({id:f.number(),user_id:f.number(),product_id:f.number(),name:f.string(),base_transaction_id:f.string(),status:f.number(),status_auto_renew:f.number(),last_order_type:f.number(),recurring_type:f.number(),type:f.number(),gateway:f.number(),start_time:f.number(),expiry_time:f.number(),infinity:f.number()}),Oa=f.object({id:f.number(),user_id:f.number(),product_id:f.number(),name:f.string(),base_transaction_id:f.string(),status:f.nativeEnum(Te),status_auto_renew:f.number(),last_order_type:f.number(),recurring_type:f.number(),type:f.nativeEnum(mn),gateway:f.number(),start_time:f.number(),expiry_time:f.number(),infinity:f.number()}),Ea=f.object({subscription:Sa.optional().describe($.persist),user:ka.optional().describe($.persist),slots:Ca.optional().describe($.session),bundle:Oa.optional().describe($.persist)}).default({}),Aa=new de(Ea);class Ra extends ie{constructor(e){super(),this.userStorage=e}get user(){return this.userStorage.state.user??null}get subscription(){return this.userStorage.state.subscription??null}get canUsePremium(){var n,s;const e=((n=this.userStorage.state.user)==null?void 0:n.status)===Ue.active,t=((s=this.userStorage.state.subscription)==null?void 0:s.status)===Te.active;return e&&t}get hasBundleSubscription(){var i,a,o,c,u;const e=((i=this.userStorage.state.user)==null?void 0:i.status)===Ue.active,t=((a=this.userStorage.state.subscription)==null?void 0:a.status)===Te.active,n=((o=this.userStorage.state.bundle)==null?void 0:o.status)===Te.active,s=((c=this.userStorage.state.bundle)==null?void 0:c.type)===mn.antivirus||((u=this.userStorage.state.bundle)==null?void 0:u.type)===mn.bundle;return e&&t&&n&&s}get userType(){var s,i,a;const e=((s=this.userStorage.state.user)==null?void 0:s.status)===Ue.active,t=((i=this.userStorage.state.subscription)==null?void 0:i.status)===Te.active,n=((a=this.userStorage.state.subscription)==null?void 0:a.trial)===is.trial;return e&&t&&n?"trial":e&&t?"premium":"free"}get subscriptionSlots(){return this.userStorage.state.slots??null}get subscriptionBundle(){return this.userStorage.state.bundle??null}async boot(){await this.userStorage.sync(),this.bootResolve(),await this.bootPromise}async setUser(e){await this.userStorage.setItems({user:e})}async removeUser(){await this.userStorage.removeItems("user")}async setSubscription(e){await this.userStorage.setItems({subscription:e})}async removeSubscription(){await this.userStorage.removeItems("subscription")}async setSubscriptionSlots(e){await this.userStorage.setItems({slots:e})}async removeSubscriptionSlots(){await this.userStorage.removeItems("slots")}async setSubscriptionBundle(e){await this.userStorage.setItems({bundle:e})}async removeSubscriptionBundle(){await this.userStorage.removeItems("bundle")}hasPermitions(e,t){const s={domain:{free:!0,premium:()=>{var a;return((a=this.userStorage.state.user)==null?void 0:a.status)===Ue.active}},locations:{free:!0,premium:()=>{var o,c;const i=((o=this.userStorage.state.user)==null?void 0:o.status)===Ue.active,a=((c=this.userStorage.state.subscription)==null?void 0:c.status)===Te.active;return i&&a}}}[e][t];return typeof s=="boolean"?s:s()}}const Ia=new G("user",Aa,se),Jc=new Ra(Ia),gr=["en","ru","vi","uk","pl","no","it","he","fr","fi","nl","da","bg","es","de","zh_CN","ar","hi","bn","ta"],tn="en",Ta=new Map([["en","English"],["ru","Русский"],["vi","Tiếng Việt"],["uk","Українська"],["pl","Polskie"],["no","Norsk"],["it","Italiano"],["he","עִבְרִית"],["fr","Français"],["fi","Suomalainen"],["nl","Nederlands"],["da","Dansk"],["bg","Български"],["es","Español"],["de","Deutsche"],["zh_CN","繁體中文"],["ar","العربية"],["hi","हिंदी"],["bn","বঙ্গ"],["ta","தமிழ்"]]),Pa=f.object({locale:f.enum(gr).optional().describe($.persist)}).default({}),La=new de(Pa);function Is(r){return!!(r&&typeof r=="string"&&gr.includes(r))}const ja={"connect-status":{off:"أنت غير متصل",on:"أنت متصل بـ {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"فشل الاتصال، يرجى تعطيل الملحقات الأخرى.","not-controllable":"فشل الاتصال، ولا يمكن التحكم في وكيل المتصفح.","no-location":"خطأ في الاتصال، موقع الاتصال مفقود.","server-config":"خطأ في الاتصال، لا يمكن جلب تكوين الخادم.",captive:"فشل الاتصال، لا يمكن تأسيس اتصال الوكيل.","no-internet":"خطأ في الاتصال، لا يوجد اتصال بالشبكة."},"disconnect-errors":{"remove-proxy":"خطأ في قطع الاتصال، فشلت عملية إزالة قواعد الوكيل."},"download-notification":{title:"جرّب عميل VPN لسطح المكتب",message:"حماية اتصالك بالإنترنت بالكامل، وليس المتصفح فقط"},"update-notification":{title:"تم تحديث الإضافة",message:"مرحبا بك في {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"يتم التحكم في الإعداد بواسطة ملحق آخر.","not-controllable":"الإعداد لا يمكن التحكم فيه من خلال إعدادات المتصفح الخاص بك.","remove-webrtc":"لا يمكن مسح إعدادات WebRTC."}},Na=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Da={"connect-status":{off:"Не сте свързани",on:"Свързани сте с {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Връзката е неуспешна, моля, деактивирайте други разширения.","not-controllable":"Връзката е неуспешна, проксито на браузъра не може да се контролира.","no-location":"Грешка при свързване, липсващо местоположение на връзката.","server-config":"Грешка при свързване, не може да се извлече конфигурацията на сървъра.",captive:"Връзката е неуспешна, не може да се установи прокси връзка.","no-internet":"Грешка при свързване, няма мрежова връзка."},"disconnect-errors":{"remove-proxy":"Грешка при прекъсване на връзката, премахването на правилата за прокси неуспешно."},"download-notification":{title:"Изпробвайте нашия клиент за настолни мрежи VPN",message:"Защита на цялата ви интернет връзка, а не само на браузъра"},"update-notification":{title:"Разширението е актуализирано",message:"Добре дошли в {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Настройка, контролирана от друго разширение.","not-controllable":"Настройката не може да се контролира чрез настройките на вашия браузър.","remove-webrtc":"Не могат да се изчистят настройките за WebRTC."}},$a=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),Ma={"connect-status":{off:"আপনি সংযুক্ত নন",on:"আপনি সংযুক্ত আছেন {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"সংযোগ ব্যর্থ হয়েছে, অনুগ্রহ করে অন্যান্য এক্সটেনশনগুলি অক্ষম করুন৷","not-controllable":"সংযোগ ব্যর্থ হয়েছে, ব্রাউজার প্রক্সি নিয়ন্ত্রণযোগ্য নয়৷","no-location":"সংযোগ ত্রুটি, সংযোগ অবস্থান অনুপস্থিত.","server-config":"সংযোগ ত্রুটি, সার্ভার কনফিগারেশন আনা যাবে না।",captive:"সংযোগ ব্যর্থ হয়েছে, প্রক্সি সংযোগ স্থাপন করা যাবে না৷","no-internet":"সংযোগ ত্রুটি, কোন নেটওয়ার্ক সংযোগ নেই."},"disconnect-errors":{"remove-proxy":"সংযোগ বিচ্ছিন্ন ত্রুটি, প্রক্সি নিয়ম সরাতে ব্যর্থ হয়েছে৷"},"download-notification":{title:"আমাদের ডেস্কটপ ভিপিএন ক্লায়েন্ট চেষ্টা করুন",message:"শুধু ব্রাউজার নয়, আপনার সমগ্র ইন্টারনেট সংযোগ রক্ষা করুন"},"update-notification":{title:"এক্সটেনশন আপডেট করা হয়েছে",message:"স্বাগতম {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"অন্য এক্সটেনশন দ্বারা নিয়ন্ত্রিত সেটিং।","not-controllable":"আপনার ব্রাউজার সেটিংসের মাধ্যমে সেটিং নিয়ন্ত্রণযোগ্য নয়।","remove-webrtc":"WebRTC সেটিংস সাফ করা যাচ্ছে না।"}},Va=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"})),za={"connect-status":{off:"Du er ikke forbundet",on:"Du er forbundet til {{tr_location}}."},"connect-errors":{"controlled-by-other-extensions":"Forbindelsen mislykkedes. Deaktiver venligst andre udvidelser.","not-controllable":"Forbindelsen mislykkedes, browserproxy kan ikke kontrolleres.","no-location":"Forbindelsesfejl, manglende forbindelsesplacering.","server-config":"Forbindelsesfejl, serverkonfigurationen kan ikke hentes.",captive:"Forbindelsen mislykkedes, kan ikke oprette proxyforbindelse.","no-internet":"Forbindelsesfejl, ingen netværksforbindelse."},"disconnect-errors":{"remove-proxy":"Afbrydelsesfejl, fjernelse af proxyregler mislykkedes."},"download-notification":{title:"Prøv vores VPN-klient til skrivebordet",message:"Beskyt hele din internetforbindelse, ikke kun browseren"},"update-notification":{title:"Udvidelse opdateret",message:"Velkommen til {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Indstilling kontrolleret af anden udvidelse.","not-controllable":"Indstillingen kan ikke kontrolleres via dine browserindstillinger.","remove-webrtc":"Kan ikke rydde WebRTC-indstillinger."}},Fa=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"})),Ua={"connect-status":{off:"Sie sind nicht verbunden",on:"Sie sind mit {{tr_location}} verbunden"},"connect-errors":{"controlled-by-other-extensions":"Die Verbindung ist fehlgeschlagen. Bitte deaktivieren Sie andere Erweiterungen.","not-controllable":"Verbindung fehlgeschlagen, Browser-Proxy ist nicht steuerbar.","no-location":"Verbindungsfehler, Verbindungsstandort fehlt.","server-config":"Verbindungsfehler, Serverkonfiguration kann nicht abgerufen werden.",captive:"Verbindung fehlgeschlagen, Proxy-Verbindung kann nicht hergestellt werden.","no-internet":"Verbindungsfehler, keine Netzwerkverbindung."},"disconnect-errors":{"remove-proxy":"Fehler beim Trennen der Verbindung. Das Entfernen der Proxy-Regeln ist fehlgeschlagen."},"download-notification":{title:"Testen Sie unseren Desktop VPN Client",message:"Schützen Sie Ihre gesamte Internetverbindung, nicht nur den Browser"},"update-notification":{title:"Erweiterung aktualisiert",message:"Willkommen zu {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Einstellung wird von einer anderen Nebenstelle gesteuert.","not-controllable":"Die Einstellung kann nicht über Ihre Browsereinstellungen gesteuert werden.","remove-webrtc":"WebRTC-Einstellungen können nicht gelöscht werden."}},Za=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"})),Ba={"connect-status":{off:"You are not connected",on:"You are connected to {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Connection failed. Please disable other extensions.","not-controllable":"Connection failed. Browser proxy is not controllable.","no-location":"Connection Error. Missing connection location.","server-config":"Connection Error. Can't fetch server config.",captive:"Connection failed. Cannot establish proxy connection.","no-internet":"Connection Error. No Network connection."},"disconnect-errors":{"remove-proxy":"Disconnect Error. Proxy rules remove failed."},"download-notification":{title:"Try our Desktop VPN Client",message:"Protect your entire internet connection, not just browser"},"update-notification":{title:"Extension updated",message:"Welcome to {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Setting controlled by other extension.","not-controllable":"Setting not controllable through your browser settings.","remove-webrtc":"Can't clear WebRTC settings."}},Wa=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),Ha={"connect-status":{off:"No está conectado",on:"Estás conectado a {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"La conexión falló. Desactive otras extensiones.","not-controllable":"La conexión falló, el proxy del navegador no es controlable.","no-location":"Error de conexión, falta ubicación de conexión.","server-config":"Error de conexión, no se puede recuperar la configuración del servidor.",captive:"La conexión falló, no se puede establecer la conexión proxy.","no-internet":"Error de conexión, sin conexión de red."},"disconnect-errors":{"remove-proxy":"Error de desconexión, error al eliminar las reglas de proxy."},"download-notification":{title:"Pruebe nuestro cliente VPN de escritorio",message:"Proteja toda su conexión a Internet, no sólo el navegador"},"update-notification":{title:"Extensión actualizada",message:"Bienvenido a {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Configuración controlada por otra extensión.","not-controllable":"Configuración no controlable a través de la configuración de su navegador.","remove-webrtc":"No se puede borrar la configuración de WebRTC."}},Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"})),qa={"connect-status":{off:"Et ole yhteydessä",on:"Olet yhteydessä {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Yhteys epäonnistui. Poista muut laajennukset käytöstä.","not-controllable":"Yhteys epäonnistui, selaimen välityspalvelinta ei voida ohjata.","no-location":"Yhteysvirhe, yhteyspaikka puuttuu.","server-config":"Yhteysvirhe, palvelimen konfiguraatiota ei voi noutaa.",captive:"Yhteys epäonnistui, välityspalvelinyhteyttä ei voi muodostaa.","no-internet":"Yhteysvirhe, ei verkkoyhteyttä."},"disconnect-errors":{"remove-proxy":"Yhteyden katkaisuvirhe, välityspalvelimen sääntöjen poistaminen epäonnistui."},"download-notification":{title:"Kokeile työpöydän VPN-asiakasta",message:"Suojaa koko internet-yhteys, ei vain selainta."},"update-notification":{title:"Laajennus päivitetty",message:"Tervetuloa {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Asetusta ohjaa toinen laajennus.","not-controllable":"Asetusta ei voi hallita selaimesi asetuksista.","remove-webrtc":"WebRTC-asetuksia ei voi tyhjentää."}},Ya=Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"})),Ja={"connect-status":{off:"Vous n'êtes pas connecté",on:"Vous êtes connecté à {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"La connexion a échoué. Veuillez désactiver les autres extensions.","not-controllable":"La connexion a échoué, le proxy du navigateur n'est pas contrôlable.","no-location":"Erreur de connexion, emplacement de connexion manquant.","server-config":"Erreur de connexion, impossible de récupérer la configuration du serveur.",captive:"Échec de la connexion, impossible d'établir une connexion proxy.","no-internet":"Erreur de connexion, pas de connexion réseau."},"disconnect-errors":{"remove-proxy":"Erreur de déconnexion. La suppression des règles de proxy a échoué."},"download-notification":{title:"Essayez notre client VPN de bureau",message:"Protégez l'ensemble de votre connexion Internet, et pas seulement votre navigateur"},"update-notification":{title:"Extension mise à jour",message:"Bienvenue à {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Paramètre contrôlé par une autre extension.","not-controllable":"Paramètre non contrôlable via les paramètres de votre navigateur.","remove-webrtc":"Impossible d'effacer les paramètres WebRTC."}},Ga=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),Qa={"connect-status":{off:"אתה לא מחובר",on:"אתה מחובר ל {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"החיבור נכשל, אנא השבת הרחבות אחרות.","not-controllable":"החיבור נכשל, ה-proxy של הדפדפן אינו ניתן לשליטה.","no-location":"שגיאת חיבור, מיקום חיבור חסר.","server-config":"שגיאת חיבור, לא ניתן להביא את תצורת השרת.",captive:"החיבור נכשל, לא ניתן ליצור חיבור proxy.","no-internet":"שגיאת חיבור, אין חיבור לרשת."},"disconnect-errors":{"remove-proxy":"שגיאת ניתוק, הסרת כללי Proxy נכשלה."},"download-notification":{title:"נסה את לקוח ה-VPN שלנו לשולחן העבודה",message:"הגן על כל חיבור האינטרנט שלך, לא רק על הדפדפן"},"update-notification":{title:"ההרחבה עודכנה",message:"ברוך הבא ל {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"הגדרה נשלטת על ידי הרחבה אחרת.","not-controllable":"ההגדרה לא ניתנת לשליטה דרך הגדרות הדפדפן שלך.","remove-webrtc":"לא ניתן לנקות את הגדרות WebRTC."}},Xa=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"})),eo={"connect-status":{off:"आप जुड़े नहीं हैं",on:"आप जुड़े हुए हैं {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"कनेक्शन विफल, कृपया अन्य एक्सटेंशन अक्षम करें।","not-controllable":"कनेक्शन विफल, ब्राउज़र प्रॉक्सी नियंत्रित नहीं है।","no-location":"कनेक्शन त्रुटि, कनेक्शन स्थान गुम।","server-config":"कनेक्शन त्रुटि, सर्वर कॉन्फिगरेशन नहीं लाया जा सका।",captive:"कनेक्शन विफल, प्रॉक्सी कनेक्शन स्थापित नहीं किया जा सका।","no-internet":"कनेक्शन त्रुटि, कोई नेटवर्क कनेक्शन नहीं."},"disconnect-errors":{"remove-proxy":"डिस्कनेक्ट त्रुटि, प्रॉक्सी नियम हटाने में विफल।"},"download-notification":{title:"हमारे डेस्कटॉप वीपीएन क्लाइंट को आज़माएँ",message:"केवल ब्राउज़र ही नहीं, बल्कि अपने संपूर्ण इंटरनेट कनेक्शन को सुरक्षित रखें"},"update-notification":{title:"एक्सटेंशन अपडेट किया गया",message:"आपका स्वागत है {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"अन्य एक्सटेंशन द्वारा नियंत्रित सेटिंग.","not-controllable":"सेटिंग आपके ब्राउज़र सेटिंग्स के माध्यम से नियंत्रित नहीं की जा सकती।","remove-webrtc":"WebRTC सेटिंग साफ़ नहीं की जा सकती."}},to=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),no={"connect-status":{off:"Non siete connessi",on:"Sei connesso a {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Connessione non riuscita. Disattiva le altre estensioni.","not-controllable":"Connessione non riuscita, il proxy del browser non è controllabile.","no-location":"Errore di connessione, posizione della connessione mancante.","server-config":"Errore di connessione, impossibile recuperare la configurazione del server.",captive:"Connessione non riuscita, impossibile stabilire una connessione proxy.","no-internet":"Errore di connessione, nessuna connessione di rete."},"disconnect-errors":{"remove-proxy":"Errore di disconnessione, rimozione delle regole proxy non riuscita."},"download-notification":{title:"Provate il nostro client VPN per desktop",message:"Proteggere l'intera connessione a Internet, non solo il browser"},"update-notification":{title:"Estensione aggiornata",message:"Benvenuto a {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Impostazione controllata da un altro interno.","not-controllable":"Impostazione non controllabile tramite le impostazioni del browser.","remove-webrtc":"Impossibile cancellare le impostazioni WebRTC."}},so=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),ro={"connect-status":{off:"U bent niet verbonden",on:"Je bent verbonden met {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Verbinding mislukt. Schakel andere extensies uit.","not-controllable":"Verbinding mislukt, browserproxy kan niet worden beheerd.","no-location":"Verbindingsfout, ontbrekende verbindingslocatie.","server-config":"Verbindingsfout, kan serverconfiguratie niet ophalen.",captive:"Verbinding mislukt. Kan geen proxyverbinding tot stand brengen.","no-internet":"Verbindingsfout, geen netwerkverbinding."},"disconnect-errors":{"remove-proxy":"Verbindingsfout, verwijderen van proxyregels mislukt."},"download-notification":{title:"Probeer onze Desktop VPN-client",message:"Bescherm je hele internetverbinding, niet alleen je browser"},"update-notification":{title:"Extensie bijgewerkt",message:"Welkom bij {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Instelling beheerd door een ander toestel.","not-controllable":"Instelling kan niet worden beheerd via uw browserinstellingen.","remove-webrtc":"Kan WebRTC-instellingen niet wissen."}},io=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),ao={"connect-status":{off:"Du er ikke tilkoblet",on:"Du er koblet til {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Tilkobling mislyktes. Deaktiver andre utvidelser.","not-controllable":"Tilkobling mislyktes, nettleserproxy er ikke kontrollerbar.","no-location":"Tilkoblingsfeil, manglende tilkoblingssted.","server-config":"Tilkoblingsfeil, kan ikke hente serverkonfig.",captive:"Tilkobling mislyktes. Kan ikke opprette proxy-tilkobling.","no-internet":"Tilkoblingsfeil, ingen nettverkstilkobling."},"disconnect-errors":{"remove-proxy":"Koble fra feil, fjerning av proxy-regler mislyktes."},"download-notification":{title:"Prøv vår VPN-klient for skrivebordet",message:"Beskytt hele internettforbindelsen din, ikke bare nettleseren"},"update-notification":{title:"Utvidelsen er oppdatert",message:"Velkommen til {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Innstilling kontrollert av annen utvidelse.","not-controllable":"Innstillingen kan ikke kontrolleres gjennom nettleserinnstillingene.","remove-webrtc":"Kan ikke slette WebRTC-innstillingene."}},oo=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),co={"connect-status":{off:"Nie jesteś połączony",on:"Jesteś połączony z {{tr_location}}."},"connect-errors":{"controlled-by-other-extensions":"Połączenie nie powiodło się. Wyłącz inne rozszerzenia.","not-controllable":"Połączenie nie powiodło się, nie można kontrolować serwera proxy przeglądarki.","no-location":"Błąd połączenia, brak lokalizacji połączenia.","server-config":"Błąd połączenia. Nie można pobrać konfiguracji serwera.",captive:"Połączenie nie powiodło się. Nie można nawiązać połączenia proxy.","no-internet":"Błąd połączenia, brak połączenia sieciowego."},"disconnect-errors":{"remove-proxy":"Błąd rozłączenia, usunięcie reguł proxy nie powiodło się."},"download-notification":{title:"Wypróbuj naszego klienta VPN dla komputerów stacjonarnych",message:"Ochrona całego połączenia internetowego, nie tylko przeglądarki"},"update-notification":{title:"Rozszerzenie zaktualizowane",message:"Witamy w {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Ustawienie kontrolowane przez inne rozszerzenie.","not-controllable":"Ustawienie, którego nie można kontrolować za pomocą ustawień przeglądarki.","remove-webrtc":"Nie można wyczyścić ustawień WebRTC."}},lo=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),uo={"connect-status":{off:"Вы не подключены",on:"Вы подключены к {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Не удалось подключиться. Отключите другие расширения.","not-controllable":"Соединение не удалось, прокси-сервер браузера не контролируется.","no-location":"Ошибка подключения, отсутствует место подключения.","server-config":"Ошибка подключения. Невозможно получить конфигурацию сервера.",captive:"Не удалось установить соединение. Невозможно установить прокси-соединение.","no-internet":"Ошибка подключения. Нет подключения к сети."},"disconnect-errors":{"remove-proxy":"Ошибка отключения. Не удалось удалить правила прокси."},"download-notification":{title:"Попробуйте наш настольный VPN-клиент",message:"Защитите все свое интернет-соединение, а не только браузер"},"update-notification":{title:"Расширение обновлено",message:"Добро пожаловать в {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Настройка контролируется другим расширением.","not-controllable":"Настройка не контролируема через настройки вашего браузера.","remove-webrtc":"Не удалось очистить настройки WebRTC."}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),fo={"connect-status":{off:"நீங்கள் இணைக்கப்படவில்லை",on:"நீங்கள் இணைக்கப்பட்டுள்ளீர்கள் {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"இணைப்பு தோல்வியடைந்தது, மற்ற நீட்டிப்புகளை முடக்கவும்.","not-controllable":"இணைப்பு தோல்வியடைந்தது, உலாவி ப்ராக்ஸியைக் கட்டுப்படுத்த முடியாது.","no-location":"இணைப்புப் பிழை, இணைப்பு இடம் இல்லை.","server-config":"இணைப்புப் பிழை, சர்வர் கட்டமைப்பைப் பெற முடியவில்லை.",captive:"இணைப்பு தோல்வியடைந்தது, ப்ராக்ஸி இணைப்பை நிறுவ முடியவில்லை.","no-internet":"இணைப்புப் பிழை, பிணைய இணைப்பு இல்லை."},"disconnect-errors":{"remove-proxy":"துண்டிப்பு பிழை, ப்ராக்ஸி விதிகளை அகற்றுவதில் தோல்வி."},"download-notification":{title:"எங்கள் டெஸ்க்டாப் VPN கிளையண்டை முயற்சிக்கவும்",message:"உலாவி மட்டுமின்றி உங்கள் முழு இணைய இணைப்பையும் பாதுகாக்கவும்"},"update-notification":{title:"நீட்டிப்பு புதுப்பிக்கப்பட்டது",message:"வரவேற்கிறோம் {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"அமைப்பு மற்ற நீட்டிப்பு மூலம் கட்டுப்படுத்தப்படுகிறது.","not-controllable":"உங்கள் உலாவி அமைப்புகளின் மூலம் அமைப்பைக் கட்டுப்படுத்த முடியாது.","remove-webrtc":"WebRTC அமைப்புகளை அழிக்க முடியவில்லை."}},po=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),go={"connect-status":{off:"Ви не підключені",on:"Ви підключені до {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Помилка підключення. Вимкніть інші розширення.","not-controllable":"Помилка підключення, проксі-сервер веб-переглядача неможливо контролювати.","no-location":"Помилка підключення, відсутнє місце підключення.","server-config":"Помилка підключення, не вдається отримати конфігурацію сервера.",captive:"Помилка з’єднання, неможливо встановити проксі-з’єднання.","no-internet":"Помилка підключення. Відсутнє інтернет з'єднання."},"disconnect-errors":{"remove-proxy":"Помилка відключення, не вдалося видалити правила проксі."},"download-notification":{title:"Спробуйте наш VPN на ПК",message:"Повністю захистіть підключення до Інтернету, а не лише через браузер"},"update-notification":{title:"Розширення оновлено",message:"Ласкаво просимо до {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Налаштування контролюється іншим розширенням.","not-controllable":"Налаштування не контрольоване через налаштування вашого браузера.","remove-webrtc":"Не вдається очистити налаштування WebRTC."}},mo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),vo={"connect-status":{off:"Bạn chưa được kết nối",on:"Bạn được kết nối với {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Kết nối không thành công, vui lòng tắt các tiện ích mở rộng khác.","not-controllable":"Kết nối không thành công, proxy trình duyệt không thể kiểm soát được.","no-location":"Lỗi kết nối, Thiếu vị trí kết nối.","server-config":"Lỗi kết nối, Không thể tìm nạp cấu hình máy chủ.",captive:"Kết nối không thành công, Không thể thiết lập kết nối proxy.","no-internet":"Lỗi kết nối, Không có kết nối mạng."},"disconnect-errors":{"remove-proxy":"Lỗi ngắt kết nối, xóa quy tắc proxy không thành công."},"download-notification":{title:"Hãy dùng thử Máy khách VPN máy tính để bàn của chúng tôi",message:"Bảo vệ toàn bộ kết nối internet của bạn, không chỉ trình duyệt"},"update-notification":{title:"Đã cập nhật tiện ích mở rộng",message:"Chào mừng bạn đến {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Cài đặt được kiểm soát bởi tiện ích mở rộng khác.","not-controllable":"Cài đặt không thể kiểm soát được thông qua cài đặt trình duyệt của bạn.","remove-webrtc":"Không thể xóa cài đặt WebRTC."}},bo=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),yo={"connect-status":{off:"您尚未连接",on:"您已连接到 {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"连接失败，请禁用其他扩展。","not-controllable":"连接失败，浏览器代理不受控制。","no-location":"连接错误，缺少连接位置。","server-config":"连接错误，无法获取服务器配置。",captive:"连接失败，无法建立代理连接。","no-internet":"连接错误，无网络连接。"},"disconnect-errors":{"remove-proxy":"断开连接错误，代理规则删除失败。"},"download-notification":{title:"试试我们的桌面VPN客户端",message:"保护您的整个互联网连接，而不仅仅是浏览器"},"update-notification":{title:"扩展已更新",message:"欢迎来到 {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"由其他分机控制的设置。","not-controllable":"无法通过浏览器设置控制设置。","remove-webrtc":"无法清除 WebRTC 设置。"}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"}));class vn extends ie{constructor(t){super();z(this,"translator",H);this.i18nStorage=t}get activeLocale(){return this.i18nStorage.state.locale??tn}get languageList(){return[...Ta.entries()].map(([t,n])=>({code:t,label:n}))}async boot(){if(await this.i18nStorage.sync(),!this.i18nStorage.state.locale){const n=vn.getUILanguage();await this.setLocale(n)}const t=vn.buildResources();await this.translator.init({resources:t,lng:this.activeLocale,fallbackLng:tn,interpolation:{escapeValue:!1}}),this.bootResolve(),await this.bootPromise}t(t,n={}){return this.translator.t(t,n)}async setLocale(t){await this.i18nStorage.setItems({locale:t})}static getUILanguage(){const t=U.i18n.getUILanguage(),n=t.replaceAll("-","_");if(Is(n))return n;const s=t.substring(0,2);return Is(s)?s:tn}static buildResources(){return Object.entries(Object.assign({"./locales/ar/base.json":Na,"./locales/bg/base.json":$a,"./locales/bn/base.json":Va,"./locales/da/base.json":Fa,"./locales/de/base.json":Za,"./locales/en/base.json":Wa,"./locales/es/base.json":Ka,"./locales/fi/base.json":Ya,"./locales/fr/base.json":Ga,"./locales/he/base.json":Xa,"./locales/hi/base.json":to,"./locales/it/base.json":so,"./locales/nl/base.json":io,"./locales/no/base.json":oo,"./locales/pl/base.json":lo,"./locales/ru/base.json":ho,"./locales/ta/base.json":po,"./locales/uk/base.json":mo,"./locales/vi/base.json":bo,"./locales/zh_CN/base.json":wo})).reduce((n,[s,i])=>{const a=s.split("/").at(-2),o=s.split("/").at(-1).split(".").at(0);return n[a]={...n[a],[o]:i.default},n},{})}}const xo=new G("i18n",La,se),_o=new vn(xo),Ts="chrome",So="app",ko="chrome_extension",Ln={pricing:"https://order.veepn.com/{lang_code}/pricing/extension/",pricingPayment:"https://order.veepn.com/{lang_code}/pricing/payment/extension/",pricingSecurity:"https://order.veepn.com/{lang_code}/pricing/subscription/security/",pricingDiscount:"https://order.veepn.com/{lang_code}/60off/pricing/extension/",home:"https://veepn.com/{lang_code}/",install:`https://veepn.com/{lang_code}/welcome/${Ts}/`,uninstall:`https://veepn.com/{lang_code}/uninstall/${Ts}/1/`,ipDetails:"https://veepn.com/{lang_code}/what-is-my-ip/",privacyPolicy:"https://veepn.com/{lang_code}/privacy-policy/",termsOfService:"https://veepn.com/{lang_code}/terms-of-service/",update:"https://veepn.com/{lang_code}/upgrade/",breachAlert:"https://veepn.com/{lang_code}/alert/",support:"https://help.veepn.com/hc/en-us/",supportTroubleshooting:"https://help.veepn.com/hc/en-us/categories/19479919000338-Troubleshooting",accountAuth:"https://account.veepn.com/{lang_code}/account-auth/",accountPasswordRecovery:"https://account.veepn.com/{lang_code}/password-recovery/"},Co=["de","ar","th","vi","en","es","fr","id","hi","it","jp","nl","no","pl","pt","ru","se","tr","zh","uk"],Oo="en";class Eo extends ie{constructor(e,t){super(),this.globalStateService=e,this.i18nService=t}get websiteLangCode(){const e=this.i18nService.activeLocale.split("_")[0];return Co.find(n=>n===e)??Oo}async boot(){this.bootResolve(),await this.bootPromise}async proceedToWebsiteAccount(e){const t=this.constructUrl(Ln.accountAuth+e.authToken,e.route,e.params);await U.tabs.create({url:t})}async proceedToWebsitePage(e){const t=this.constructUrl(Ln[e.page],"",e.params);await U.tabs.create({url:t})}async setUninstallURL(){const e=this.globalStateService.udid.value,t=this.constructUrl(Ln.uninstall,"",{utm_campaign:e});await U.runtime.setUninstallURL(t)}constructUrl(e,t,n){const s=new URLSearchParams({utm_source:ko,utm_medium:So,platform:"extension",udid:this.globalStateService.udid.value,...n??{}}),i=this.websiteLangCode===tn?e.replace("/{lang_code}",""):e.replace("{lang_code}",this.websiteLangCode);if(t)return`${i}/?route=${encodeURIComponent(`${t}?${s.toString()}`)}`;const a=new URL(i);return s.forEach((o,c)=>{a.searchParams.set(c,o)}),a.toString()}}const Gc=new Eo(Yt,_o),mr="default",Ao=[mr,"light","dark"],Ro=14*24*60*60*1e3,Io=16*24*60*60*1e3,To="app",Po="chrome_extension",Lo={macos:"https://download.veepn.com/mac/VeePN.dmg",windows:"https://download.veepn.com/windows/VeePNInstaller.exe",linux:"https://veepn.com/vpn-apps/vpn-for-linux/",other:`https://order.veepn.com/pricing/extension/?utm_source=${Po}&utm_medium=${To}&utm_campaign=download`},jo=7*24*60*60*1e3,No="https://www.cloudflare.com/cdn-cgi/trace",Do=20*60*1e3,$o=7*24*60*60*1e3,Mo=4,Vo="https://chromewebstore.google.com/detail/free-vpn-for-chrome-vpn-p/_runtime_id_/reviews",zo=15*60*1e3,Fo=24*60*60*1e3,Uo=24*60*60*1e3,Zo=f.object({country:f.string(),region:f.string()}),Bo=f.object({needShow:f.boolean(),nextTimestamp:f.number(),showCount:f.number()}),Wo=f.object({needShow:f.boolean()}),Ho=f.object({needShow:f.boolean(),count:f.number(),nextTimestamp:f.number()}),Ko=f.object({close:Ho,active:f.boolean(),nextTimestamp:f.number()}),qo=f.object({colorTheme:f.enum(Ao).describe($.persist),showOnboarding:f.boolean().describe($.persist),sessionCount:f.number().describe($.persist),premiumBannerTimestamp:f.number().describe($.persist),downloadNotificationTimestamp:f.number().describe($.persist),geolocation:Zo.optional().describe($.persist),blockAds:f.boolean().describe($.persist),rateUs:Bo.describe($.persist),exitOffer:Wo.describe($.persist),connectionSurvey:Ko.describe($.persist)}).default({colorTheme:mr,showOnboarding:!0,sessionCount:0,premiumBannerTimestamp:0,downloadNotificationTimestamp:0,blockAds:!1,rateUs:{needShow:!0,nextTimestamp:Date.now()+Do,showCount:1},exitOffer:{needShow:!0},connectionSurvey:{close:{needShow:!0,count:0,nextTimestamp:Date.now()},active:!0,nextTimestamp:Date.now()}}),Yo=new de(qo);var Jo="2.0.2",Jn=500,Ps="user-agent",dt="",Ls="?",bn="function",je="undefined",ht="object",Gn="string",q="browser",Se="cpu",pe="device",oe="engine",re="os",at="result",w="name",m="type",x="vendor",_="version",Y="architecture",Ht="major",y="model",Et="console",j="mobile",V="tablet",B="smarttv",fe="wearable",jn="xr",At="embedded",bt="inapp",as="brands",Ze="formFactors",os="fullVersionList",ot="platform",cs="platformVersion",Cn="bitness",Ve="sec-ch-ua",Go=Ve+"-full-version-list",Qo=Ve+"-arch",Xo=Ve+"-"+Cn,ec=Ve+"-form-factors",tc=Ve+"-"+j,nc=Ve+"-"+y,vr=Ve+"-"+ot,sc=vr+"-version",br=[as,os,j,y,ot,cs,Y,Ze,Cn],Qt="Amazon",et="Apple",js="ASUS",Ns="BlackBerry",Fe="Google",Ds="Huawei",$s="Lenovo",Ms="Honor",Xt="LG",Nn="Microsoft",Dn="Motorola",$n="Nvidia",Vs="OnePlus",Mn="OPPO",yt="Samsung",zs="Sharp",wt="Sony",Vn="Xiaomi",zn="Zebra",Fs="Chrome",Us="Chromium",Re="Chromecast",rc="Edge",xt="Firefox",_t="Opera",Zs="Facebook",Bs="Sogou",tt="Mobile ",St=" Browser",Qn="Windows",ic=typeof window!==je,J=ic&&window.navigator?window.navigator:void 0,Pe=J&&J.userAgentData?J.userAgentData:void 0,ac=function(r,e){var t={},n=e;if(!yn(e)){n={};for(var s in e)for(var i in e[s])n[i]=e[s][i].concat(n[i]?n[i]:[])}for(var a in r)t[a]=n[a]&&n[a].length%2===0?n[a].concat(r[a]):r[a];return t},On=function(r){for(var e={},t=0;t<r.length;t++)e[r[t].toUpperCase()]=r[t];return e},Xn=function(r,e){if(typeof r===ht&&r.length>0){for(var t in r)if(ke(r[t])==ke(e))return!0;return!1}return pt(r)?ke(e).indexOf(ke(r))!==-1:!1},yn=function(r,e){for(var t in r)return/^(browser|cpu|device|engine|os)$/.test(t)||(e?yn(r[t]):!1)},pt=function(r){return typeof r===Gn},Fn=function(r){if(r){for(var e=[],t=ft(/\\?\"/g,r).split(","),n=0;n<t.length;n++)if(t[n].indexOf(";")>-1){var s=Kt(t[n]).split(";v=");e[n]={brand:s[0],version:s[1]}}else e[n]=Kt(t[n]);return e}},ke=function(r){return pt(r)?r.toLowerCase():r},Un=function(r){return pt(r)?ft(/[^\d\.]/g,r).split(".")[0]:void 0},Ce=function(r){for(var e in r){var t=r[e];typeof t==ht&&t.length==2?this[t[0]]=t[1]:this[t]=void 0}return this},ft=function(r,e){return pt(e)?e.replace(r,dt):e},kt=function(r){return ft(/\\?\"/g,r)},Kt=function(r,e){if(pt(r))return r=ft(/^\s\s*/,r),typeof e===je?r:r.substring(0,Jn)},Zn=function(r,e){if(!(!r||!e))for(var t=0,n,s,i,a,o,c;t<e.length&&!o;){var u=e[t],h=e[t+1];for(n=s=0;n<u.length&&!o&&u[n];)if(o=u[n++].exec(r),o)for(i=0;i<h.length;i++)c=o[++s],a=h[i],typeof a===ht&&a.length>0?a.length===2?typeof a[1]==bn?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:a.length===3?typeof a[1]===bn&&!(a[1].exec&&a[1].test)?this[a[0]]=c?a[1].call(this,c,a[2]):void 0:this[a[0]]=c?c.replace(a[1],a[2]):void 0:a.length===4&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):void 0):this[a]=c||void 0;t+=2}},Le=function(r,e){for(var t in e)if(typeof e[t]===ht&&e[t].length>0){for(var n=0;n<e[t].length;n++)if(Xn(e[t][n],r))return t===Ls?void 0:t}else if(Xn(e[t],r))return t===Ls?void 0:t;return e.hasOwnProperty("*")?e["*"]:r},Ws={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Hs={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Ks={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[w,tt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,_],[/opios[\/ ]+([\w\.]+)/i],[_,[w,_t+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[_,[w,_t+" GX"]],[/\bopr\/([\w\.]+)/i],[_,[w,_t]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[_,[w,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[_,[w,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[w,_],[/quark(?:pc)?\/([-\w\.]+)/i],[_,[w,"Quark"]],[/\bddg\/([\w\.]+)/i],[_,[w,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_,[w,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[_,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_,[w,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[_,[w,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[_,[w,"Smart "+$s+St]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure"+St],_],[/\bfocus\/([\w\.]+)/i],[_,[w,xt+" Focus"]],[/\bopt\/([\w\.]+)/i],[_,[w,_t+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[w,_t+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_,[w,"MIUI"+St]],[/fxios\/([\w\.-]+)/i],[_,[w,tt+xt]],[/\bqihoobrowser\/?([\w\.]*)/i],[_,[w,"360"]],[/\b(qq)\/([\w\.]+)/i],[[w,/(.+)/,"$1Browser"],_],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1"+St],_],[/samsungbrowser\/([\w\.]+)/i],[_,[w,yt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[_,[w,Bs+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[w,Bs+" Mobile"],_],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[w,_],[/(lbbrowser|rekonq)/i],[w],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[_,w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,Zs],_,[m,bt]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[w,_,[m,bt]],[/\bgsa\/([\w\.]+) .*safari\//i],[_,[w,"GSA"],[m,bt]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[_,[w,"TikTok"],[m,bt]],[/\[(linkedin)app\]/i],[w,[m,bt]],[/(chromium)[\/ ]([-\w\.]+)/i],[w,_],[/headlesschrome(?:\/([\w\.]+)| )/i],[_,[w,Fs+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,Fs+" WebView"],_],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_,[w,"Android"+St]],[/chrome\/([\w\.]+) mobile/i],[_,[w,tt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,_],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[_,[w,tt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[w,tt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[_,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[_,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[w,_],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[w,tt+xt],_],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],_],[/(wolvic|librewolf)\/([\w\.]+)/i],[w,_],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_,[w,xt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[w,[_,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[w,[_,/[^\d\.]+./,dt]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[Y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[Y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[Y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[Y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[Y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[Y,/ower/,dt,ke]],[/ sun4\w[;\)]/i],[[Y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[Y,ke]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[x,yt],[m,V]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[y,[x,yt],[m,j]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[x,et],[m,j]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[x,et],[m,V]],[/(macintosh);/i],[y,[x,et]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[x,zs],[m,j]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[y,[x,Ms],[m,V]],[/honor([-\w ]+)[;\)]/i],[y,[x,Ms],[m,j]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[y,[x,Ds],[m,V]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[x,Ds],[m,j]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[y,/_/g," "],[x,Vn],[m,V]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[y,/_/g," "],[x,Vn],[m,j]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[x,Mn],[m,j]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[y,[x,Le,{OnePlus:["304","403","203"],"*":Mn}],[m,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[x,"Vivo"],[m,j]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[y,[x,"Realme"],[m,j]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[x,Dn],[m,j]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[x,Dn],[m,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[x,Xt],[m,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[x,Xt],[m,j]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[y,[x,$s],[m,V]],[/(nokia) (t[12][01])/i],[x,y,[m,V]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[y,/_/g," "],[m,j],[x,"Nokia"]],[/(pixel (c|tablet))\b/i],[y,[x,Fe],[m,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[x,Fe],[m,j]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[x,wt],[m,j]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[x,wt],[m,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[x,Vs],[m,j]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[x,Qt],[m,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[x,Qt],[m,j]],[/(playbook);[-\w\),; ]+(rim)/i],[y,x,[m,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[x,Ns],[m,j]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[x,js],[m,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[x,js],[m,j]],[/(nexus 9)/i],[y,[x,"HTC"],[m,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[y,/_/g," "],[m,j]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[y,[x,"TCL"],[m,V]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[y,[x,"TCL"],[m,j]],[/(itel) ((\w+))/i],[[x,ke],y,[m,Le,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[x,"Acer"],[m,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[x,"Meizu"],[m,j]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[y,[x,"Ulefone"],[m,j]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[y,[x,"Energizer"],[m,j]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[y,[x,"Cat"],[m,j]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[y,[x,"Smartfren"],[m,j]],[/droid.+; (a(?:015|06[35]|142p?))/i],[y,[x,"Nothing"],[m,j]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[x,y,[m,V]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[x,y,[m,j]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[x,y,[m,V]],[/(surface duo)/i],[y,[x,Nn],[m,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[x,"Fairphone"],[m,j]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[y,[x,$n],[m,V]],[/(sprint) (\w+)/i],[x,y,[m,j]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[x,Nn],[m,j]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[x,zn],[m,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[x,zn],[m,j]],[/smart-tv.+(samsung)/i],[x,[m,B]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[x,yt],[m,B]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,Xt],[m,B]],[/(apple) ?tv/i],[x,[y,et+" TV"],[m,B]],[/crkey.*devicetype\/chromecast/i],[[y,Re+" Third Generation"],[x,Fe],[m,B]],[/crkey.*devicetype\/([^/]*)/i],[[y,/^/,"Chromecast "],[x,Fe],[m,B]],[/fuchsia.*crkey/i],[[y,Re+" Nest Hub"],[x,Fe],[m,B]],[/crkey/i],[[y,Re],[x,Fe],[m,B]],[/droid.+aft(\w+)( bui|\))/i],[y,[x,Qt],[m,B]],[/(shield \w+ tv)/i],[y,[x,$n],[m,B]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[x,zs],[m,B]],[/(bravia[\w ]+)( bui|\))/i],[y,[x,wt],[m,B]],[/(mi(tv|box)-?\w+) bui/i],[y,[x,Vn],[m,B]],[/Hbbtv.*(technisat) (.*);/i],[x,y,[m,B]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Kt],[y,Kt],[m,B]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[y,[m,B]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,B]],[/(ouya)/i,/(nintendo) (\w+)/i],[x,y,[m,Et]],[/droid.+; (shield)( bui|\))/i],[y,[x,$n],[m,Et]],[/(playstation \w+)/i],[y,[x,wt],[m,Et]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[x,Nn],[m,Et]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[y,[x,yt],[m,fe]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[x,y,[m,fe]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[y,[x,Mn],[m,fe]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[x,et],[m,fe]],[/(opwwe\d{3})/i],[y,[x,Vs],[m,fe]],[/(moto 360)/i],[y,[x,Dn],[m,fe]],[/(smartwatch 3)/i],[y,[x,wt],[m,fe]],[/(g watch r)/i],[y,[x,Xt],[m,fe]],[/droid.+; (wt63?0{2,3})\)/i],[y,[x,zn],[m,fe]],[/droid.+; (glass) \d/i],[y,[x,Fe],[m,jn]],[/(pico) (4|neo3(?: link|pro)?)/i],[x,y,[m,jn]],[/; (quest( \d| pro)?)/i],[y,[x,Zs],[m,jn]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[m,At]],[/(aeobc)\b/i],[y,[x,Qt],[m,At]],[/(homepod).+mac os/i],[y,[x,et],[m,At]],[/windows iot/i],[[m,At]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[y,[m,Le,{mobile:"Mobile",xr:"VR","*":V}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,V]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,j]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[y,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_,[w,rc+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[w,_],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[w,_],[/ladybird\//i],[[w,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,_],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[w,[_,Le,Ws]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,Le,Ws],[w,Qn]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,"macOS"],[_,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[_,[w,Re+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[_,[w,Re+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[_,[w,Re+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[_,[w,Re+" Linux"]],[/crkey\/([\d\.]+)/i],[_,[w,Re]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[_,w],[/(ubuntu) ([\w\.]+) like android/i],[[w,/(.+)/,"$1 Touch"],_],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[w,_],[/\(bb(10);/i],[_,[w,Ns]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[_,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_,[w,xt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[w,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[_,[w,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[w,"Chrome OS"],_],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,_],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],_],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[w,_]]},en=function(){var r={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return Ce.call(r.init,[[q,[w,_,Ht,m]],[Se,[Y]],[pe,[m,y,x]],[oe,[w,_]],[re,[w,_]]]),Ce.call(r.isIgnore,[[q,[_,Ht]],[oe,[_]],[re,[_]]]),Ce.call(r.isIgnoreRgx,[[q,/ ?browser$/i],[re,/ ?os$/i]]),Ce.call(r.toString,[[q,[w,_]],[Se,[Y]],[pe,[x,y]],[oe,[w,_]],[re,[w,_]]]),r}(),oc=function(r,e){var t=en.init[e],n=en.isIgnore[e]||0,s=en.isIgnoreRgx[e]||0,i=en.toString[e]||0;function a(){Ce.call(this,t)}return a.prototype.getItem=function(){return r},a.prototype.withClientHints=function(){return Pe?Pe.getHighEntropyValues(br).then(function(o){return r.setCH(new yr(o,!1)).parseCH().get()}):r.parseCH().get()},a.prototype.withFeatureCheck=function(){return r.detectFeature().get()},e!=at&&(a.prototype.is=function(o){var c=!1;for(var u in this)if(this.hasOwnProperty(u)&&!Xn(n,u)&&ke(s?ft(s,this[u]):this[u])==ke(s?ft(s,o):o)){if(c=!0,o!=je)break}else if(o==je&&c){c=!c;break}return c},a.prototype.toString=function(){var o=dt;for(var c in i)typeof this[i[c]]!==je&&(o+=(o?" ":dt)+this[i[c]]);return o||je}),Pe||(a.prototype.then=function(o){var c=this,u=function(){for(var v in c)c.hasOwnProperty(v)&&(this[v]=c[v])};u.prototype={is:a.prototype.is,toString:a.prototype.toString};var h=new u;return o(h),h}),new a};function yr(r,e){if(r=r||{},Ce.call(this,br),e)Ce.call(this,[[as,Fn(r[Ve])],[os,Fn(r[Go])],[j,/\?1/.test(r[tc])],[y,kt(r[nc])],[ot,kt(r[vr])],[cs,kt(r[sc])],[Y,kt(r[Qo])],[Ze,Fn(r[ec])],[Cn,kt(r[Xo])]]);else for(var t in r)this.hasOwnProperty(t)&&typeof r[t]!==je&&(this[t]=r[t])}function qs(r,e,t,n){return this.get=function(s){return s?this.data.hasOwnProperty(s)?this.data[s]:void 0:this.data},this.set=function(s,i){return this.data[s]=i,this},this.setCH=function(s){return this.uaCH=s,this},this.detectFeature=function(){if(J&&J.userAgent==this.ua)switch(this.itemType){case q:J.brave&&typeof J.brave.isBrave==bn&&this.set(w,"Brave");break;case pe:!this.get(m)&&Pe&&Pe[j]&&this.set(m,j),this.get(y)=="Macintosh"&&J&&typeof J.standalone!==je&&J.maxTouchPoints&&J.maxTouchPoints>2&&this.set(y,"iPad").set(m,V);break;case re:!this.get(w)&&Pe&&Pe[ot]&&this.set(w,Pe[ot]);break;case at:var s=this.data,i=function(a){return s[a].getItem().detectFeature().get()};this.set(q,i(q)).set(Se,i(Se)).set(pe,i(pe)).set(oe,i(oe)).set(re,i(re))}return this},this.parseUA=function(){return this.itemType!=at&&Zn.call(this.data,this.ua,this.rgxMap),this.itemType==q&&this.set(Ht,Un(this.get(_))),this},this.parseCH=function(){var s=this.uaCH,i=this.rgxMap;switch(this.itemType){case q:case oe:var a=s[os]||s[as],o;if(a)for(var c in a){var u=a[c].brand||a[c],h=a[c].version;this.itemType==q&&!/not.a.brand/i.test(u)&&(!o||/chrom/i.test(o)&&u!=Us)&&(u=Le(u,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(w,u).set(_,h).set(Ht,Un(h)),o=u),this.itemType==oe&&u==Us&&this.set(_,h)}break;case Se:var v=s[Y];v&&(v&&s[Cn]=="64"&&(v+="64"),Zn.call(this.data,v+";",i));break;case pe:if(s[j]&&this.set(m,j),s[y]&&(this.set(y,s[y]),!this.get(m)||!this.get(x))){var b={};Zn.call(b,"droid 9; "+s[y]+")",i),!this.get(m)&&b.type&&this.set(m,b.type),!this.get(x)&&b.vendor&&this.set(x,b.vendor)}if(s[Ze]){var S;if(typeof s[Ze]!="string")for(var l=0;!S&&l<s[Ze].length;)S=Le(s[Ze][l++],Hs);else S=Le(s[Ze],Hs);this.set(m,S)}break;case re:var d=s[ot];if(d){var p=s[cs];d==Qn&&(p=parseInt(Un(p),10)>=13?"11":"10"),this.set(w,d).set(_,p)}this.get(w)==Qn&&s[y]=="Xbox"&&this.set(w,"Xbox").set(_,void 0);break;case at:var g=this.data,C=function(O){return g[O].getItem().setCH(s).parseCH().get()};this.set(q,C(q)).set(Se,C(Se)).set(pe,C(pe)).set(oe,C(oe)).set(re,C(re))}return this},Ce.call(this,[["itemType",r],["ua",e],["uaCH",n],["rgxMap",t],["data",oc(this,r)]]),this}function ye(r,e,t){if(typeof r===ht?(yn(r,!0)?(typeof e===ht&&(t=e),e=r):(t=r,e=void 0),r=void 0):typeof r===Gn&&!yn(e,!0)&&(t=e,e=void 0),t&&typeof t.append===bn){var n={};t.forEach(function(c,u){n[u]=c}),t=n}if(!(this instanceof ye))return new ye(r,e,t).getResult();var s=typeof r===Gn?r:t&&t[Ps]?t[Ps]:J&&J.userAgent?J.userAgent:dt,i=new yr(t,!0),a=e?ac(Ks,e):Ks,o=function(c){return c==at?function(){return new qs(c,s,a,i).set("ua",s).set(q,this.getBrowser()).set(Se,this.getCPU()).set(pe,this.getDevice()).set(oe,this.getEngine()).set(re,this.getOS()).get()}:function(){return new qs(c,s,a[c],i).parseUA().get()}};return Ce.call(this,[["getBrowser",o(q)],["getCPU",o(Se)],["getDevice",o(pe)],["getEngine",o(oe)],["getOS",o(re)],["getResult",o(at)],["getUA",function(){return s}],["setUA",function(c){return pt(c)&&(s=c.length>Jn?Kt(c,Jn):c),this}]]).setUA(s),this}ye.VERSION=Jo;ye.BROWSER=On([w,_,Ht,m]);ye.CPU=On([Y]);ye.DEVICE=On([y,x,m,Et,j,B,V,fe,At]);ye.ENGINE=ye.OS=On([w,_]);const cc=ye(navigator.userAgent);class lc extends ie{constructor(e,t,n,s){super(),this.appStorage=e,this.fetchService=t,this.analyticsService=n,this.globalStateService=s}get colorTheme(){return this.appStorage.state.colorTheme}get version(){return U.runtime.getManifest().version}get showOnboarding(){return this.appStorage.state.showOnboarding}get sessionCount(){return this.appStorage.state.sessionCount}get premiumBannerTimestamp(){return this.appStorage.state.premiumBannerTimestamp}get downloadNotificationTimestamp(){return this.appStorage.state.downloadNotificationTimestamp}get geolocation(){return this.appStorage.state.geolocation??null}get isBlockAds(){return this.appStorage.state.blockAds}get majorBrowserVersion(){const e=Number(cc.browser.major);return Number.isNaN(e)?0:e}get rateUsData(){return this.appStorage.state.rateUs}get extensionStoreUrl(){const e=U.runtime.id;return Vo.replace("_runtime_id_",e)}get needShowExitOffer(){const e=this.appStorage.state.exitOffer.needShow,t=Date.now()>this.globalStateService.installedAt+Io;return e&&t}get needShowConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state,t=Date.now()>e.nextTimestamp;return e.active&&t}get connectionSurveyClose(){return this.appStorage.state.connectionSurvey.close}async boot(){await this.appStorage.sync(),this.appStorage.state.premiumBannerTimestamp===0&&await this.incrementPremiumBannerTimestamp(),this.appStorage.state.geolocation||await this.detectGeolocation(),this.bootResolve(),await this.bootPromise}async setColorTheme(e){await this.appStorage.setItems({colorTheme:e})}async setShowOnboarding(e){await this.appStorage.setItems({showOnboarding:e})}async incrementSessionCount(){const e=this.appStorage.state.sessionCount+1;await this.appStorage.setItems({sessionCount:e})}async incrementPremiumBannerTimestamp(){const e=Date.now()+Ro;await this.appStorage.setItems({premiumBannerTimestamp:e})}async getDownloadLink(e){return await Promise.resolve(this),Lo[e]}async incrementDownloadNotificationTimestamp(){const e=Date.now()+jo;await this.appStorage.setItems({downloadNotificationTimestamp:e})}async detectGeolocation(){const e=await this.fetchService.request({method:"GET",url:No});if(e.success)try{const t=e.data.trim().split(/\n/).map(i=>i.split("=")),n=Object.fromEntries(t),s={country:n.loc.toLocaleLowerCase(),region:n.colo.toLocaleLowerCase()};await this.appStorage.setItems({geolocation:s}),this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:"setup_user_country",data:{user_country:s.country}})}catch{this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:"country_check_failed_error"})}else this.analyticsService.sendEvent({types:["google-analytics","amplitude"],name:"country_check_failed"})}async setBlockAds(e){await this.appStorage.setItems({blockAds:e})}async incrementRateUs(){const e={needShow:this.rateUsData.showCount<Mo,nextTimestamp:Date.now()+$o,showCount:this.rateUsData.showCount+1};await this.appStorage.setItems({rateUs:e})}async setExitOfferShown(){await this.appStorage.setItems({exitOffer:{needShow:!1}})}async incrementConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,nextTimestamp:Date.now()+zo}})}async closeConnectionSurvey(){const{close:e}=this.appStorage.state.connectionSurvey,t=e.count+1,n=e.nextTimestamp<Date.now()&&t%2===0,s=n?Date.now()+Uo:e.nextTimestamp,i={needShow:n,count:t,nextTimestamp:s};await this.appStorage.setItems({connectionSurvey:{...this.appStorage.state.connectionSurvey,close:i}})}async delayConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,nextTimestamp:Date.now()+Fo}})}async disableConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,active:!1}})}}const uc=new G("app",Yo,se),Qc=new lc(uc,Sn,kn,Yt),dc=["allowed","denied"],hc="allowed",fc="/icons/128.png",pc=["download-app","extension-updated"],gc=f.object({id:f.string().uuid(),callback:f.enum(pc).optional()}),mc=f.object({permition:f.enum(dc).optional().describe($.persist),callbacks:f.array(gc).optional().describe($.session)}).default({}),vc=new de(mc);class bc extends ie{constructor(e){super(),this.notificationStorage=e}get permition(){return this.notificationStorage.state.permition??hc}get callbacks(){return this.notificationStorage.state.callbacks??[]}async boot(){await this.notificationStorage.sync(),this.bootResolve(),await this.bootPromise}async setNotificationPermition(e){await this.notificationStorage.setItems({permition:e})}getCallbackSettings(e){return this.callbacks.find(n=>n.id===e)??null}async removeCallbackSettings(e){const n=((await this.notificationStorage.getItems("callbacks")).callbacks??[]).filter(s=>s.id!==e);await this.notificationStorage.setItems({callbacks:n})}async notify(e){if(this.notificationStorage.state.permition==="denied")return;const t=U.runtime.getManifest(),n=U.runtime.getURL(fc),s={type:"basic",title:t.name,message:t.description??"",iconUrl:n},i=await U.notifications.create(crypto.randomUUID(),{...s,...e.options}),a=[...this.callbacks,{id:i,...e.callback?{callback:e.callback}:{}}];await this.notificationStorage.setItems({callbacks:a})}}const yc=new G("notification",vc,se),Xc=new bc(yc),es=["free","premium"],wc=["available","unavailable"],xc=f.object({accessToken:f.string(),refreshToken:f.string()}),Ys=f.object({type:f.enum(es),url:f.string(),status:f.enum(wc),updatedAt:f.number()}),_c=f.object({tokens:xc.optional().describe($.persist),[es[0]]:Ys.optional().describe($.persist),[es[1]]:Ys.optional().describe($.persist)}).default({}),Sc=new de(_c),wn={authRefreshToken:"/auth/refresh-token/",authLogin:"/auth/login/",authLogout:"/auth/logout/",apiLaunch:"/api/launch/",apiLocationList:"/api/location/list/",apiServerList:"/api/server/list/",apiAvailable:"/api/available/",apiAccountAuthToken:"/api/account/account-auth-token/",apiUrlReview:"/api/url/review/",apiSubscriptionCheckUsedTrial:"/api/v2/subscription/check-used-trial/",apiSubscriptionSlot:"/api/v2/subscription/slot/",apiSlotRelease:"/api/v2/slot/release/",apiSubscriptionShield:"/api/v2/subscription/shield/"},kc="https://antpeak.com",Cc="https://zorvian.com",Js="https://s3-oregon-1.s3-us-west-2.amazonaws.com/api.json",Oc=1*60*60*1e3,Gs=ye(navigator.userAgent);class En extends ie{constructor(t,n,s,i,a,o){super();z(this,"domainType");z(this,"domainUrl");this.apiStorage=s,this.globalStateService=i,this.fetchService=a,this.analyticsService=o,this.domainType=t,this.domainUrl=n}get hasTokens(){return!!this.apiStorage.state.tokens}get deviceInfo(){const t="chrome",n=U.runtime.getManifest(),s=Gs.browser.name??"Chrome",i=Gs.browser.version??"0.0.0";return{udid:this.globalStateService.udid.value,appVersion:n.version,platform:t,platformVersion:navigator.userAgent,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,deviceName:`${s} ${i}`}}get isDomainAvailable(){const t=this.apiStorage.state[this.domainType];if(!t)return!1;const n=t.updatedAt+Oc;return!!t.url&&t.status==="available"&&n>Date.now()}get apiDomainUrl(){const t=this.apiStorage.state[this.domainType];return(t==null?void 0:t.url)||this.domainUrl}async boot(){await this.apiStorage.sync(),this.isDomainAvailable||await this.updateDomainData(),this.bootResolve(),await this.bootPromise}async setTokens(t){await this.apiStorage.setItems({tokens:t})}async removeTokens(){await this.apiStorage.removeItems("tokens")}async updateDomainData(){if(await this.apiGetDomainStatus(this.domainUrl)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:this.domainUrl,status:"available",updatedAt:Date.now()}});return}const n=await this.apiGetReserveDomains();if(n.success){const s=En.shuffleArray(n.data.domains[this.domainType]);for(const i of s)if(await this.apiGetDomainStatus(i,!0)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:i,status:"available",updatedAt:0}});return}}await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:"",status:"unavailable",updatedAt:0}})}async fetch(t){var i;if(!this.isDomainAvailable)return{success:!1,errors:[{code:0,status:0,name:"",message:"Connection Error. Api domain is unavailable. Try to reset app."}]};const n=((i=this.apiStorage.state[this.domainType])==null?void 0:i.url)+wn[t.url];return await this.request({...t,url:n})}async apiGetReserveDomains(){const t=await this.fetchService.request({method:"GET",url:Js});return t.success||this.analyticsService.sendEvent({types:["google-analytics"],name:"api_no_response_bucket",data:{api_domain:Js,status_code:Wt.getStatusCodeMessage(t)}}),t}async apiGetDomainStatus(t,n=!1){const s=await this.fetchService.request({method:"GET",url:`${t}${wn.apiAvailable}`});return s.success||this.analyticsService.sendEvent({types:["google-analytics"],name:n?"api_no_response_reserve":"api_no_response_default",data:{api_domain:t,status_code:Wt.getStatusCodeMessage(s)}}),s.success?s.data.message==="OK":!1}static shuffleArray(t){const n=[...t];for(let s=n.length-1;s>=0;s--){const i=Math.floor(Math.random()*(s+1));[n[s],n[i]]=[n[i],n[s]]}return n}}class Ec extends En{constructor(e,t,n,s,i,a,o){super(e,t,n,s,i,o),this.apiStorage=n,this.globalStateService=s,this.fetchService=i,this.eventService=a,this.analyticsService=o}async request(e){var o,c;const t=((o=this.apiStorage.state.tokens)==null?void 0:o.accessToken)??"",n=await this.fetchService.request({...e,headers:{Authorization:`Bearer ${t}`,...e.headers}});if(n.success||n.errors.every(u=>u.status!==401))return n;const i=((c=this.apiStorage.state.tokens)==null?void 0:c.accessToken)??"",a=await this.fetchService.request({headers:{Authorization:`Bearer ${i}`},method:"POST",url:this.apiDomainUrl+wn.apiLaunch,body:this.deviceInfo});return a.success?(await this.setTokens({accessToken:a.data.accessToken,refreshToken:""}),this.request(e)):(this.eventService.dispatch({"free-refresh-token-failed":{disconnectReason:i?this.apiDomainUrl:"token_empty",failedReason:Wt.getStatusCodeMessage(a)}}),n)}}class Ac extends En{constructor(e,t,n,s,i,a,o){super(e,t,n,s,i,o),this.apiStorage=n,this.globalStateService=s,this.fetchService=i,this.eventService=a,this.analyticsService=o}async request(e){var o,c;const t=((o=this.apiStorage.state.tokens)==null?void 0:o.accessToken)??"",n=await this.fetchService.request({...e,headers:{Authorization:`Bearer ${t}`,...e.headers}});if(n.success||n.errors.every(u=>u.status!==401))return n;const i=((c=this.apiStorage.state.tokens)==null?void 0:c.refreshToken)??"",a=await this.fetchService.request({headers:{Authorization:`Bearer ${i}`},method:"POST",url:this.apiDomainUrl+wn.authRefreshToken,body:this.deviceInfo});return a.success?(await this.setTokens({accessToken:a.data.accessToken,refreshToken:a.data.refreshToken}),this.request(e)):(this.eventService.dispatch({"premium-refresh-token-failed":{disconnectReason:i?this.apiDomainUrl:"token_empty",failedReason:Wt.getStatusCodeMessage(a)}}),n)}}const wr=new G("api",Sc,se),el=new Ec("free",kc,wr,Yt,Sn,se,kn),tl=new Ac("premium",Cc,wr,Yt,Sn,se,kn),Rc=f.object({blockWebrtc:f.boolean().optional().describe($.persist)}).default({}),Ic=new de(Rc),Bn="disable_non_proxied_udp",rt=class rt extends ie{constructor(t){super();z(this,"setting",U.privacy.network.webRTCIPHandlingPolicy);z(this,"details",{levelOfControl:"not_controllable",value:"default"});this.webrtcStorage=t,this.setting.onChange.addListener(n=>{this.details=n,rt.settingChangeResolver()})}get canControlWebrtc(){const{levelOfControl:t,value:n}=this.details;return t==="not_controllable"||t==="controlled_by_other_extensions"?{status:!1,cause:t}:t==="controllable_by_this_extension"&&n===Bn?{status:!1,cause:"controlled_by_other_extensions"}:{status:!0}}get isApplied(){const{levelOfControl:t,value:n}=this.details;return t==="controlled_by_this_extension"&&n===Bn}get needEnableWebrtc(){return!!this.webrtcStorage.state.blockWebrtc}async boot(){await this.webrtcStorage.sync(),this.details=await this.setting.get({}),this.bootResolve(),await this.bootPromise}async enable(){if(!this.canControlWebrtc.status)return this.canControlWebrtc;const t=new Promise(n=>{rt.settingChangeResolver=n});return await this.setting.set({value:Bn,scope:"regular"}),await t,this.canControlWebrtc}async disable(){if(!this.canControlWebrtc.status)return this.canControlWebrtc;const t=new Promise(n=>{rt.settingChangeResolver=n});return await this.setting.clear({}),await t,this.canControlWebrtc}async setBlockWebrtc(t){await this.webrtcStorage.setItems({blockWebrtc:t})}};z(rt,"settingChangeResolver",()=>{});let ts=rt;const Tc=new G("webrtc-settings",Ic,se),nl=new ts(Tc),Pc=["udp","tcp","ipsec","https","http","sws","wg"],Lc=f.object({addresses:f.array(f.string()),protocol:f.enum(Pc),port:f.number()}),jc=f.object({username:f.string(),password:f.string()}),Nc=f.object({credentials:jc.optional().describe($.persist),serverConfigList:f.array(Lc).optional().describe($.persist)}).default({}),Dc=new de(Nc),Be=class Be extends ie{constructor(t){super();z(this,"setting",U.proxy.settings);z(this,"details",{levelOfControl:"not_controllable",value:{mode:"system"}});this.proxyStorage=t,this.setting.onChange.addListener(n=>{this.details=n,Be.settingChangeResolver()})}get canControlProxy(){const{levelOfControl:t}=this.details;return t==="not_controllable"||t==="controlled_by_other_extensions"?{status:!1,cause:t}:{status:!0}}get isApplied(){const{levelOfControl:t}=this.details;return t==="controlled_by_this_extension"}async getAuthCredentials(){const{credentials:t}=await this.proxyStorage.getItems("credentials");return t??null}async getServerConfigList(){const{serverConfigList:t}=await this.proxyStorage.getItems("serverConfigList");return t??[]}async boot(){await this.proxyStorage.sync();const t=await this.setting.get({});this.details=t,this.bootResolve(),await this.bootPromise}async enable(t){if(this.isApplied)return this.canControlProxy;if(!this.canControlProxy.status)return this.canControlProxy;await this.proxyStorage.setItems({credentials:t.credentials,serverConfigList:t.serverConfig});const n=new Promise(i=>{Be.settingChangeResolver=i}),s=Be.createProxyConfig(t);return await this.setting.set({value:s,scope:"regular"}),await n,this.canControlProxy}async disable(){if(!this.isApplied)return!0;await this.proxyStorage.removeItems("credentials","serverConfigList");const t=new Promise(n=>{Be.settingChangeResolver=n});return await this.setting.clear({}),await t,!this.isApplied}static createProxyConfig(t){const n=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,s=t.serverConfig.flatMap(a=>{const o=a.protocol.toUpperCase();return a.addresses.map(c=>`${o} ${c}:${a.port}`)}).join("; ");return{mode:"pac_script",pacScript:{data:`
      function FindProxyForURL(url, host) {
        const areHostnamesEqual = (hostnameA, hostnameB) => {
          const wwwRegex = /^www\\./;
          const oldHostnameWithoutWww = hostnameA.replace(wwwRegex, '');
          const newHostnameWithoutWww = hostnameB.replace(wwwRegex, '');
          return oldHostnameWithoutWww === newHostnameWithoutWww;
        };

        if (isPlainHostName(host)) {
          return 'DIRECT';
        }

        const ipv4Regex = new RegExp(${n});
        const nonRoutableNets = ${JSON.stringify(t.nonRoutableNets)};
        if (ipv4Regex.test(host) && nonRoutableNets.some(([pattern, mask]) => isInNet(host, pattern, mask))) {
          return 'DIRECT';
        }

        const exclusions = ${JSON.stringify(t.exclusionList)};
        if (exclusions.some(el => (areHostnamesEqual(host, el) || shExpMatch(host, el)))) {
          return 'DIRECT';
        }

        return '${s}';
      }`}}}};z(Be,"settingChangeResolver",()=>{});let ns=Be;const $c=new G("proxy",Dc,se),sl=new ns($c),Mc=f.object({matchPattern:f.string(),favicon:f.string().optional()}),Vc=f.object({exclusions:Mc.array().optional().describe($.persist)}).default({}),zc=new de(Vc);var nn={exports:{}},Fc=nn.exports,Qs;function Uc(){return Qs||(Qs=1,function(r){(function(e){const t="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`,"i"),threeOctet:new RegExp(`^${t}\\.${t}\\.${t}$`,"i"),twoOctet:new RegExp(`^${t}\\.${t}$`,"i"),longValue:new RegExp(`^${t}$`,"i")},s=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),a="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(a,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${a})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${t}\\.${t}\\.${t}\\.${t}(${a})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${t}\\.${t}\\.${t}\\.${t}(${a})?$`,"i")};function u(l,d){if(l.indexOf("::")!==l.lastIndexOf("::"))return null;let p=0,g=-1,C=(l.match(c.zoneIndex)||[])[0],O,D;for(C&&(C=C.substring(1),l=l.replace(/%.+$/,""));(g=l.indexOf(":",g+1))>=0;)p++;if(l.substr(0,2)==="::"&&p--,l.substr(-2,2)==="::"&&p--,p>d)return null;for(D=d-p,O=":";D--;)O+="0:";return l=l.replace("::",O),l[0]===":"&&(l=l.slice(1)),l[l.length-1]===":"&&(l=l.slice(0,-1)),d=function(){const Ee=l.split(":"),Ae=[];for(let Z=0;Z<Ee.length;Z++)Ae.push(parseInt(Ee[Z],16));return Ae}(),{parts:d,zoneId:C}}function h(l,d,p,g){if(l.length!==d.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let C=0,O;for(;g>0;){if(O=p-g,O<0&&(O=0),l[C]>>O!==d[C]>>O)return!1;g-=p,C+=1}return!0}function v(l){if(i.test(l))return parseInt(l,16);if(l[0]==="0"&&!isNaN(parseInt(l[1],10))){if(s.test(l))return parseInt(l,8);throw new Error(`ipaddr: cannot parse ${l} as octal`)}return parseInt(l,10)}function b(l,d){for(;l.length<d;)l=`0${l}`;return l}const S={};S.IPv4=function(){function l(d){if(d.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let p,g;for(p=0;p<d.length;p++)if(g=d[p],!(0<=g&&g<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=d}return l.prototype.SpecialRanges={unspecified:[[new l([0,0,0,0]),8]],broadcast:[[new l([255,255,255,255]),32]],multicast:[[new l([224,0,0,0]),4]],linkLocal:[[new l([169,254,0,0]),16]],loopback:[[new l([127,0,0,0]),8]],carrierGradeNat:[[new l([100,64,0,0]),10]],private:[[new l([10,0,0,0]),8],[new l([172,16,0,0]),12],[new l([192,168,0,0]),16]],reserved:[[new l([192,0,0,0]),24],[new l([192,0,2,0]),24],[new l([192,88,99,0]),24],[new l([198,18,0,0]),15],[new l([198,51,100,0]),24],[new l([203,0,113,0]),24],[new l([240,0,0,0]),4]],as112:[[new l([192,175,48,0]),24],[new l([192,31,196,0]),24]],amt:[[new l([192,52,193,0]),24]]},l.prototype.kind=function(){return"ipv4"},l.prototype.match=function(d,p){let g;if(p===void 0&&(g=d,d=g[0],p=g[1]),d.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return h(this.octets,d.octets,8,p)},l.prototype.prefixLengthFromSubnetMask=function(){let d=0,p=!1;const g={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let C,O,D;for(C=3;C>=0;C-=1)if(O=this.octets[C],O in g){if(D=g[O],p&&D!==0)return null;D!==8&&(p=!0),d+=D}else return null;return 32-d},l.prototype.range=function(){return S.subnetMatch(this,this.SpecialRanges)},l.prototype.toByteArray=function(){return this.octets.slice(0)},l.prototype.toIPv4MappedAddress=function(){return S.IPv6.parse(`::ffff:${this.toString()}`)},l.prototype.toNormalizedString=function(){return this.toString()},l.prototype.toString=function(){return this.octets.join(".")},l}(),S.IPv4.broadcastAddressFromCIDR=function(l){try{const d=this.parseCIDR(l),p=d[0].toByteArray(),g=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[];let O=0;for(;O<4;)C.push(parseInt(p[O],10)|parseInt(g[O],10)^255),O++;return new this(C)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},S.IPv4.isIPv4=function(l){return this.parser(l)!==null},S.IPv4.isValid=function(l){try{return new this(this.parser(l)),!0}catch{return!1}},S.IPv4.isValidCIDR=function(l){try{return this.parseCIDR(l),!0}catch{return!1}},S.IPv4.isValidFourPartDecimal=function(l){return!!(S.IPv4.isValid(l)&&l.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},S.IPv4.networkAddressFromCIDR=function(l){let d,p,g,C,O;try{for(d=this.parseCIDR(l),g=d[0].toByteArray(),O=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[],p=0;p<4;)C.push(parseInt(g[p],10)&parseInt(O[p],10)),p++;return new this(C)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},S.IPv4.parse=function(l){const d=this.parser(l);if(d===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(d)},S.IPv4.parseCIDR=function(l){let d;if(d=l.match(/^(.+)\/(\d+)$/)){const p=parseInt(d[2]);if(p>=0&&p<=32){const g=[this.parse(d[1]),p];return Object.defineProperty(g,"toString",{value:function(){return this.join("/")}}),g}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},S.IPv4.parser=function(l){let d,p,g;if(d=l.match(n.fourOctet))return function(){const C=d.slice(1,6),O=[];for(let D=0;D<C.length;D++)p=C[D],O.push(v(p));return O}();if(d=l.match(n.longValue)){if(g=v(d[1]),g>4294967295||g<0)throw new Error("ipaddr: address outside defined range");return function(){const C=[];let O;for(O=0;O<=24;O+=8)C.push(g>>O&255);return C}().reverse()}else return(d=l.match(n.twoOctet))?function(){const C=d.slice(1,4),O=[];if(g=v(C[1]),g>16777215||g<0)throw new Error("ipaddr: address outside defined range");return O.push(v(C[0])),O.push(g>>16&255),O.push(g>>8&255),O.push(g&255),O}():(d=l.match(n.threeOctet))?function(){const C=d.slice(1,5),O=[];if(g=v(C[2]),g>65535||g<0)throw new Error("ipaddr: address outside defined range");return O.push(v(C[0])),O.push(v(C[1])),O.push(g>>8&255),O.push(g&255),O}():null},S.IPv4.subnetMaskFromPrefixLength=function(l){if(l=parseInt(l),l<0||l>32)throw new Error("ipaddr: invalid IPv4 prefix length");const d=[0,0,0,0];let p=0;const g=Math.floor(l/8);for(;p<g;)d[p]=255,p++;return g<4&&(d[g]=Math.pow(2,l%8)-1<<8-l%8),new this(d)},S.IPv6=function(){function l(d,p){let g,C;if(d.length===16)for(this.parts=[],g=0;g<=14;g+=2)this.parts.push(d[g]<<8|d[g+1]);else if(d.length===8)this.parts=d;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(g=0;g<this.parts.length;g++)if(C=this.parts[g],!(0<=C&&C<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");p&&(this.zoneId=p)}return l.prototype.SpecialRanges={unspecified:[new l([0,0,0,0,0,0,0,0]),128],linkLocal:[new l([65152,0,0,0,0,0,0,0]),10],multicast:[new l([65280,0,0,0,0,0,0,0]),8],loopback:[new l([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new l([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new l([0,0,0,0,0,65535,0,0]),96],discard:[new l([256,0,0,0,0,0,0,0]),64],rfc6145:[new l([0,0,0,0,65535,0,0,0]),96],rfc6052:[new l([100,65435,0,0,0,0,0,0]),96],"6to4":[new l([8194,0,0,0,0,0,0,0]),16],teredo:[new l([8193,0,0,0,0,0,0,0]),32],benchmarking:[new l([8193,2,0,0,0,0,0,0]),48],amt:[new l([8193,3,0,0,0,0,0,0]),32],as112v6:[[new l([8193,4,274,0,0,0,0,0]),48],[new l([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new l([8193,16,0,0,0,0,0,0]),28],orchid2:[new l([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new l([8193,48,0,0,0,0,0,0]),28],reserved:[[new l([8193,0,0,0,0,0,0,0]),23],[new l([8193,3512,0,0,0,0,0,0]),32]]},l.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},l.prototype.kind=function(){return"ipv6"},l.prototype.match=function(d,p){let g;if(p===void 0&&(g=d,d=g[0],p=g[1]),d.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return h(this.parts,d.parts,16,p)},l.prototype.prefixLengthFromSubnetMask=function(){let d=0,p=!1;const g={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let C,O;for(let D=7;D>=0;D-=1)if(C=this.parts[D],C in g){if(O=g[C],p&&O!==0)return null;O!==16&&(p=!0),d+=O}else return null;return 128-d},l.prototype.range=function(){return S.subnetMatch(this,this.SpecialRanges)},l.prototype.toByteArray=function(){let d;const p=[],g=this.parts;for(let C=0;C<g.length;C++)d=g[C],p.push(d>>8),p.push(d&255);return p},l.prototype.toFixedLengthString=function(){const d=(function(){const g=[];for(let C=0;C<this.parts.length;C++)g.push(b(this.parts[C].toString(16),4));return g}).call(this).join(":");let p="";return this.zoneId&&(p=`%${this.zoneId}`),d+p},l.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const d=this.parts.slice(-2),p=d[0],g=d[1];return new S.IPv4([p>>8,p&255,g>>8,g&255])},l.prototype.toNormalizedString=function(){const d=(function(){const g=[];for(let C=0;C<this.parts.length;C++)g.push(this.parts[C].toString(16));return g}).call(this).join(":");let p="";return this.zoneId&&(p=`%${this.zoneId}`),d+p},l.prototype.toRFC5952String=function(){const d=/((^|:)(0(:|$)){2,})/g,p=this.toNormalizedString();let g=0,C=-1,O;for(;O=d.exec(p);)O[0].length>C&&(g=O.index,C=O[0].length);return C<0?p:`${p.substring(0,g)}::${p.substring(g+C)}`},l.prototype.toString=function(){return this.toRFC5952String()},l}(),S.IPv6.broadcastAddressFromCIDR=function(l){try{const d=this.parseCIDR(l),p=d[0].toByteArray(),g=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[];let O=0;for(;O<16;)C.push(parseInt(p[O],10)|parseInt(g[O],10)^255),O++;return new this(C)}catch(d){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${d})`)}},S.IPv6.isIPv6=function(l){return this.parser(l)!==null},S.IPv6.isValid=function(l){if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{const d=this.parser(l);return new this(d.parts,d.zoneId),!0}catch{return!1}},S.IPv6.isValidCIDR=function(l){if(typeof l=="string"&&l.indexOf(":")===-1)return!1;try{return this.parseCIDR(l),!0}catch{return!1}},S.IPv6.networkAddressFromCIDR=function(l){let d,p,g,C,O;try{for(d=this.parseCIDR(l),g=d[0].toByteArray(),O=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),C=[],p=0;p<16;)C.push(parseInt(g[p],10)&parseInt(O[p],10)),p++;return new this(C)}catch(D){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${D})`)}},S.IPv6.parse=function(l){const d=this.parser(l);if(d.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(d.parts,d.zoneId)},S.IPv6.parseCIDR=function(l){let d,p,g;if((p=l.match(/^(.+)\/(\d+)$/))&&(d=parseInt(p[2]),d>=0&&d<=128))return g=[this.parse(p[1]),d],Object.defineProperty(g,"toString",{value:function(){return this.join("/")}}),g;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},S.IPv6.parser=function(l){let d,p,g,C,O,D;if(g=l.match(c.deprecatedTransitional))return this.parser(`::ffff:${g[1]}`);if(c.native.test(l))return u(l,8);if((g=l.match(c.transitional))&&(D=g[6]||"",d=g[1],g[1].endsWith("::")||(d=d.slice(0,-1)),d=u(d+D,6),d.parts)){for(O=[parseInt(g[2]),parseInt(g[3]),parseInt(g[4]),parseInt(g[5])],p=0;p<O.length;p++)if(C=O[p],!(0<=C&&C<=255))return null;return d.parts.push(O[0]<<8|O[1]),d.parts.push(O[2]<<8|O[3]),{parts:d.parts,zoneId:d.zoneId}}return null},S.IPv6.subnetMaskFromPrefixLength=function(l){if(l=parseInt(l),l<0||l>128)throw new Error("ipaddr: invalid IPv6 prefix length");const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let p=0;const g=Math.floor(l/8);for(;p<g;)d[p]=255,p++;return g<16&&(d[g]=Math.pow(2,l%8)-1<<8-l%8),new this(d)},S.fromByteArray=function(l){const d=l.length;if(d===4)return new S.IPv4(l);if(d===16)return new S.IPv6(l);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},S.isValid=function(l){return S.IPv6.isValid(l)||S.IPv4.isValid(l)},S.isValidCIDR=function(l){return S.IPv6.isValidCIDR(l)||S.IPv4.isValidCIDR(l)},S.parse=function(l){if(S.IPv6.isValid(l))return S.IPv6.parse(l);if(S.IPv4.isValid(l))return S.IPv4.parse(l);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},S.parseCIDR=function(l){try{return S.IPv6.parseCIDR(l)}catch{try{return S.IPv4.parseCIDR(l)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},S.process=function(l){const d=this.parse(l);return d.kind()==="ipv6"&&d.isIPv4MappedAddress()?d.toIPv4Address():d},S.subnetMatch=function(l,d,p){let g,C,O,D;p==null&&(p="unicast");for(C in d)if(Object.prototype.hasOwnProperty.call(d,C)){for(O=d[C],O[0]&&!(O[0]instanceof Array)&&(O=[O]),g=0;g<O.length;g++)if(D=O[g],l.kind()===D[0].kind()&&l.match.apply(l,D))return C}return p},r.exports?r.exports=S:e.ipaddr=S})(Fc)}(nn)),nn.exports}var Zc=Uc();const Xs=Sr(Zc);class Bc extends ie{constructor(t){super();z(this,"NON_ROUTABLE_IP_ADDRESS",["0.0.0.0/8","10.0.0.0/8","14.0.0.0/8","24.0.0.0/8","39.0.0.0/8","127.0.0.0/8","128.0.0.0/16","169.254.0.0/16","172.16.0.0/12","191.255.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","192.168.0.0/16","198.18.0.0/15","223.255.255.0/24","224.0.0.0/4","240.0.0.0/4"]);z(this,"DEFAULT_EXCLUSIONS",["::1","localhost","*.local","127.0.0.1","analytics.google.com","*.analytics.google.com","google-analytics.com","*.google-analytics.com"]);this.exclusionsStorage=t}get nonRoutableNets(){const t=n=>{const[s,i]=Xs.parseCIDR(n);return[s.toString(),Xs.IPv4.subnetMaskFromPrefixLength(i).toString()]};return this.NON_ROUTABLE_IP_ADDRESS.map(t)}get exclusionList(){const t=this.exclusionSites.map(n=>n.matchPattern);return[...this.DEFAULT_EXCLUSIONS,...t]}get nonRoutableList(){return[...this.NON_ROUTABLE_IP_ADDRESS]}get exclusionSites(){return this.exclusionsStorage.state.exclusions??[]}async boot(){await this.exclusionsStorage.sync(),this.bootResolve(),await this.bootPromise}async add(t){await this.exclusionsStorage.setItems({exclusions:[...this.exclusionSites,t]})}async remove(t){const n=this.exclusionSites.filter(s=>s.matchPattern!==t.matchPattern);await this.exclusionsStorage.setItems({exclusions:n})}}const Wc=new G("exclusions",zc,se),rl=new Bc(Wc);export{qc as A,tn as D,te as E,Wt as F,$ as S,ye as U,kn as a,Gc as b,Qc as c,_o as d,el as e,tl as f,Yt as g,rl as h,H as i,Yc as j,se as k,de as l,G as m,Xc as n,Sn as o,sl as p,mr as q,Te as r,hr as s,hc as t,Jc as u,nl as w,f as z};
